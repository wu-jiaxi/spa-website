(()=>{var e={4802:e=>{e.exports=function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}a=n[s]={exports:{}},t[s][0].call(a.exports,(function(e){return i(t[s][1][e]||e)}),a,a.exports,e,t,n,r)}return n[s].exports}for(var o=void 0,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){(function(r,i,o,s,a,u,l,c,d){"use strict";var f=e("crypto");function h(e,t){var n;return void 0===(n="passthrough"!==(t=v(e,t)).algorithm?f.createHash(t.algorithm):new y).write&&(n.write=n.update,n.end=n.update),_(t,n).dispatch(e),n.update||n.end(""),n.digest?n.digest("buffer"===t.encoding?void 0:t.encoding):(e=n.read(),"buffer"!==t.encoding?e.toString(t.encoding):e)}(n=t.exports=h).sha1=function(e){return h(e)},n.keys=function(e){return h(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},n.MD5=function(e){return h(e,{algorithm:"md5",encoding:"hex"})},n.keysMD5=function(e){return h(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var p=f.getHashes?f.getHashes().slice():["sha1","md5"],g=(p.push("passthrough"),["buffer","hex","binary","base64"]);function v(e,t){var n={};if(n.algorithm=(t=t||{}).algorithm||"sha1",n.encoding=t.encoding||"hex",n.excludeValues=!!t.excludeValues,n.algorithm=n.algorithm.toLowerCase(),n.encoding=n.encoding.toLowerCase(),n.ignoreUnknown=!0===t.ignoreUnknown,n.respectType=!1!==t.respectType,n.respectFunctionNames=!1!==t.respectFunctionNames,n.respectFunctionProperties=!1!==t.respectFunctionProperties,n.unorderedArrays=!0===t.unorderedArrays,n.unorderedSets=!1!==t.unorderedSets,n.unorderedObjects=!1!==t.unorderedObjects,n.replacer=t.replacer||void 0,n.excludeKeys=t.excludeKeys||void 0,void 0===e)throw new Error("Object argument required.");for(var r=0;r<p.length;++r)p[r].toLowerCase()===n.algorithm.toLowerCase()&&(n.algorithm=p[r]);if(-1===p.indexOf(n.algorithm))throw new Error('Algorithm "'+n.algorithm+'"  not supported. supported values: '+p.join(", "));if(-1===g.indexOf(n.encoding)&&"passthrough"!==n.algorithm)throw new Error('Encoding "'+n.encoding+'"  not supported. supported values: '+g.join(", "));return n}function m(e){if("function"==typeof e)return null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))}function _(e,t,n){function r(e){return t.update?t.update(e,"utf8"):t.write(e,"utf8")}return n=n||[],{dispatch:function(t){return this["_"+(null===(t=e.replacer?e.replacer(t):t)?"null":typeof t)](t)},_object:function(t){var i,s=Object.prototype.toString.call(t),a=/\[object (.*)\]/i.exec(s);if(a=(a=a?a[1]:"unknown:["+s+"]").toLowerCase(),0<=(s=n.indexOf(t)))return this.dispatch("[CIRCULAR:"+s+"]");if(n.push(t),void 0!==o&&o.isBuffer&&o.isBuffer(t))return r("buffer:"),r(t);if("object"===a||"function"===a||"asyncfunction"===a)return s=Object.keys(t),e.unorderedObjects&&(s=s.sort()),!1===e.respectType||m(t)||s.splice(0,0,"prototype","__proto__","constructor"),e.excludeKeys&&(s=s.filter((function(t){return!e.excludeKeys(t)}))),r("object:"+s.length+":"),i=this,s.forEach((function(n){i.dispatch(n),r(":"),e.excludeValues||i.dispatch(t[n]),r(",")}));if(!this["_"+a]){if(e.ignoreUnknown)return r("["+a+"]");throw new Error('Unknown object type "'+a+'"')}this["_"+a](t)},_array:function(t,i){i=void 0!==i?i:!1!==e.unorderedArrays;var o=this;if(r("array:"+t.length+":"),!i||t.length<=1)return t.forEach((function(e){return o.dispatch(e)}));var s=[];return i=t.map((function(t){var r=new y,i=n.slice();return _(e,r,i).dispatch(t),s=s.concat(i.slice(n.length)),r.read().toString()})),n=n.concat(s),i.sort(),this._array(i,!1)},_date:function(e){return r("date:"+e.toJSON())},_symbol:function(e){return r("symbol:"+e.toString())},_error:function(e){return r("error:"+e.toString())},_boolean:function(e){return r("bool:"+e.toString())},_string:function(e){r("string:"+e.length+":"),r(e.toString())},_function:function(t){r("fn:"),m(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this._object(t)},_number:function(e){return r("number:"+e.toString())},_xml:function(e){return r("xml:"+e.toString())},_null:function(){return r("Null")},_undefined:function(){return r("Undefined")},_regexp:function(e){return r("regex:"+e.toString())},_uint8array:function(e){return r("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint8clampedarray:function(e){return r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},_int8array:function(e){return r("int8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint16array:function(e){return r("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_int16array:function(e){return r("int16array:"),this.dispatch(Array.prototype.slice.call(e))},_uint32array:function(e){return r("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_int32array:function(e){return r("int32array:"),this.dispatch(Array.prototype.slice.call(e))},_float32array:function(e){return r("float32array:"),this.dispatch(Array.prototype.slice.call(e))},_float64array:function(e){return r("float64array:"),this.dispatch(Array.prototype.slice.call(e))},_arraybuffer:function(e){return r("arraybuffer:"),this.dispatch(new Uint8Array(e))},_url:function(e){return r("url:"+e.toString())},_map:function(t){return r("map:"),t=Array.from(t),this._array(t,!1!==e.unorderedSets)},_set:function(t){return r("set:"),t=Array.from(t),this._array(t,!1!==e.unorderedSets)},_file:function(e){return r("file:"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},_blob:function(){if(e.ignoreUnknown)return r("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return r("domwindow")},_bigint:function(e){return r("bigint:"+e.toString())},_process:function(){return r("process")},_timer:function(){return r("timer")},_pipe:function(){return r("pipe")},_tcp:function(){return r("tcp")},_udp:function(){return r("udp")},_tty:function(){return r("tty")},_statwatcher:function(){return r("statwatcher")},_securecontext:function(){return r("securecontext")},_connection:function(){return r("connection")},_zlib:function(){return r("zlib")},_context:function(){return r("context")},_nodescript:function(){return r("nodescript")},_httpparser:function(){return r("httpparser")},_dataview:function(){return r("dataview")},_signal:function(){return r("signal")},_fsevent:function(){return r("fsevent")},_tlswrap:function(){return r("tlswrap")}}}function y(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}n.writeToStream=function(e,t,n){return void 0===n&&(n=t,t={}),_(t=v(e,t),n).dispatch(e)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(e,t,n){(function(e,t,r,i,o,s,a,u,l){!function(e){"use strict";var t="undefined"!=typeof Uint8Array?Uint8Array:Array,n="+".charCodeAt(0),r="/".charCodeAt(0),i="0".charCodeAt(0),o="a".charCodeAt(0),s="A".charCodeAt(0),a="-".charCodeAt(0),u="_".charCodeAt(0);function l(e){return(e=e.charCodeAt(0))===n||e===a?62:e===r||e===u?63:e<i?-1:e<i+10?e-i+26+26:e<s+26?e-s:e<o+26?e-o+26:void 0}e.toByteArray=function(e){var n,r;if(0<e.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.length,o=(i="="===e.charAt(i-2)?2:"="===e.charAt(i-1)?1:0,new t(3*e.length/4-i)),s=0<i?e.length-4:e.length,a=0;function u(e){o[a++]=e}for(n=0;n<s;n+=4,0)u((16711680&(r=l(e.charAt(n))<<18|l(e.charAt(n+1))<<12|l(e.charAt(n+2))<<6|l(e.charAt(n+3))))>>16),u((65280&r)>>8),u(255&r);return 2==i?u(255&(r=l(e.charAt(n))<<2|l(e.charAt(n+1))>>4)):1==i&&(u((r=l(e.charAt(n))<<10|l(e.charAt(n+1))<<4|l(e.charAt(n+2))>>2)>>8&255),u(255&r)),o},e.fromByteArray=function(e){var t,n,r,i,o=e.length%3,s="";function a(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)}for(t=0,r=e.length-o;t<r;t+=3)s+=a((i=n=(e[t]<<16)+(e[t+1]<<8)+e[t+2])>>18&63)+a(i>>12&63)+a(i>>6&63)+a(63&i);switch(o){case 1:s=(s+=a((n=e[e.length-1])>>2))+a(n<<4&63)+"==";break;case 2:s=(s=(s+=a((n=(e[e.length-2]<<8)+e[e.length-1])>>10))+a(n>>4&63))+a(n<<2&63)+"="}return s}}(void 0===n?this.base64js={}:n)}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(e,t,n){(function(t,r,i,o,s,a,u,l,c){var d=e("base64-js"),f=e("ieee754");function i(e,t,n){if(!(this instanceof i))return new i(e,t,n);var r,o,s,a,u=typeof e;if("base64"===t&&"string"==u)for(e=(a=e).trim?a.trim():a.replace(/^\s+|\s+$/g,"");e.length%4!=0;)e+="=";if("number"==u)r=R(e);else if("string"==u)r=i.byteLength(e,t);else{if("object"!=u)throw new Error("First argument needs to be a number, array or string.");r=R(e.length)}if(i._useTypedArrays?o=i._augment(new Uint8Array(r)):((o=this).length=r,o._isBuffer=!0),i._useTypedArrays&&"number"==typeof e.byteLength)o._set(e);else if(T(a=e)||i.isBuffer(a)||a&&"object"==typeof a&&"number"==typeof a.length)for(s=0;s<r;s++)i.isBuffer(e)?o[s]=e.readUInt8(s):o[s]=e[s];else if("string"==u)o.write(e,0,t);else if("number"==u&&!i._useTypedArrays&&!n)for(s=0;s<r;s++)o[s]=0;return o}function h(e,t,n,r){return i._charsWritten=L(function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function p(e,t,n,r){return i._charsWritten=L(function(e){for(var t,n,r=[],i=0;i<e.length;i++)t=(n=e.charCodeAt(i))>>8,n%=256,r.push(n),r.push(t);return r}(t),e,n,r)}function g(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;i++)r+=String.fromCharCode(e[i]);return r}function v(e,t,n,r){var i;if(r||(D("boolean"==typeof n,"missing or invalid endian"),D(null!=t,"missing offset"),D(t+1<e.length,"Trying to read beyond buffer length")),!((r=e.length)<=t))return n?(i=e[t],t+1<r&&(i|=e[t+1]<<8)):(i=e[t]<<8,t+1<r&&(i|=e[t+1])),i}function m(e,t,n,r){var i;if(r||(D("boolean"==typeof n,"missing or invalid endian"),D(null!=t,"missing offset"),D(t+3<e.length,"Trying to read beyond buffer length")),!((r=e.length)<=t))return n?(t+2<r&&(i=e[t+2]<<16),t+1<r&&(i|=e[t+1]<<8),i|=e[t],t+3<r&&(i+=e[t+3]<<24>>>0)):(t+1<r&&(i=e[t+1]<<16),t+2<r&&(i|=e[t+2]<<8),t+3<r&&(i|=e[t+3]),i+=e[t]<<24>>>0),i}function _(e,t,n,r){if(r||(D("boolean"==typeof n,"missing or invalid endian"),D(null!=t,"missing offset"),D(t+1<e.length,"Trying to read beyond buffer length")),!(e.length<=t))return 32768&(r=v(e,t,n,!0))?-1*(65535-r+1):r}function y(e,t,n,r){if(r||(D("boolean"==typeof n,"missing or invalid endian"),D(null!=t,"missing offset"),D(t+3<e.length,"Trying to read beyond buffer length")),!(e.length<=t))return 2147483648&(r=m(e,t,n,!0))?-1*(4294967295-r+1):r}function b(e,t,n,r){return r||(D("boolean"==typeof n,"missing or invalid endian"),D(t+3<e.length,"Trying to read beyond buffer length")),f.read(e,t,n,23,4)}function w(e,t,n,r){return r||(D("boolean"==typeof n,"missing or invalid endian"),D(t+7<e.length,"Trying to read beyond buffer length")),f.read(e,t,n,52,8)}function k(e,t,n,r,i){if(i||(D(null!=t,"missing value"),D("boolean"==typeof r,"missing or invalid endian"),D(null!=n,"missing offset"),D(n+1<e.length,"trying to write beyond buffer length"),B(t,65535)),!((i=e.length)<=n))for(var o=0,s=Math.min(i-n,2);o<s;o++)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function A(e,t,n,r,i){if(i||(D(null!=t,"missing value"),D("boolean"==typeof r,"missing or invalid endian"),D(null!=n,"missing offset"),D(n+3<e.length,"trying to write beyond buffer length"),B(t,4294967295)),!((i=e.length)<=n))for(var o=0,s=Math.min(i-n,4);o<s;o++)e[n+o]=t>>>8*(r?o:3-o)&255}function E(e,t,n,r,i){i||(D(null!=t,"missing value"),D("boolean"==typeof r,"missing or invalid endian"),D(null!=n,"missing offset"),D(n+1<e.length,"Trying to write beyond buffer length"),N(t,32767,-32768)),e.length<=n||k(e,0<=t?t:65535+t+1,n,r,i)}function x(e,t,n,r,i){i||(D(null!=t,"missing value"),D("boolean"==typeof r,"missing or invalid endian"),D(null!=n,"missing offset"),D(n+3<e.length,"Trying to write beyond buffer length"),N(t,2147483647,-2147483648)),e.length<=n||A(e,0<=t?t:4294967295+t+1,n,r,i)}function S(e,t,n,r,i){i||(D(null!=t,"missing value"),D("boolean"==typeof r,"missing or invalid endian"),D(null!=n,"missing offset"),D(n+3<e.length,"Trying to write beyond buffer length"),j(t,34028234663852886e22,-34028234663852886e22)),e.length<=n||f.write(e,t,n,r,23,4)}function I(e,t,n,r,i){i||(D(null!=t,"missing value"),D("boolean"==typeof r,"missing or invalid endian"),D(null!=n,"missing offset"),D(n+7<e.length,"Trying to write beyond buffer length"),j(t,17976931348623157e292,-17976931348623157e292)),e.length<=n||f.write(e,t,n,r,52,8)}n.Buffer=i,n.SlowBuffer=i,n.INSPECT_MAX_BYTES=50,i.poolSize=8192,i._useTypedArrays=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray}catch(e){return!1}}(),i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.byteLength=function(e,t){var n;switch(e+="",t||"utf8"){case"hex":n=e.length/2;break;case"utf8":case"utf-8":n=O(e).length;break;case"ascii":case"binary":case"raw":n=e.length;break;case"base64":n=M(e).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*e.length;break;default:throw new Error("Unknown encoding")}return n},i.concat=function(e,t){if(D(T(e),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===e.length)return new i(0);if(1===e.length)return e[0];if("number"!=typeof t)for(o=t=0;o<e.length;o++)t+=e[o].length;for(var n=new i(t),r=0,o=0;o<e.length;o++){var s=e[o];s.copy(n,r),r+=s.length}return n},i.prototype.write=function(e,t,n,r){isFinite(t)?isFinite(n)||(r=n,n=void 0):(l=r,r=t,t=n,n=l),t=Number(t)||0;var o,s,a,u,l=this.length-t;switch((!n||l<(n=Number(n)))&&(n=l),r=String(r||"utf8").toLowerCase()){case"hex":o=function(e,t,n,r){n=Number(n)||0;var o=e.length-n;(!r||o<(r=Number(r)))&&(r=o),D((o=t.length)%2==0,"Invalid hex string"),o/2<r&&(r=o/2);for(var s=0;s<r;s++){var a=parseInt(t.substr(2*s,2),16);D(!isNaN(a),"Invalid hex string"),e[n+s]=a}return i._charsWritten=2*s,s}(this,e,t,n);break;case"utf8":case"utf-8":s=this,a=t,u=n,o=i._charsWritten=L(O(e),s,a,u);break;case"ascii":case"binary":o=h(this,e,t,n);break;case"base64":s=this,a=t,u=n,o=i._charsWritten=L(M(e),s,a,u);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":o=p(this,e,t,n);break;default:throw new Error("Unknown encoding")}return o},i.prototype.toString=function(e,t,n){var r,i,o,s,a=this;if(e=String(e||"utf8").toLowerCase(),t=Number(t)||0,(n=void 0!==n?Number(n):a.length)===t)return"";switch(e){case"hex":r=function(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||r<n)&&(n=r);for(var i="",o=t;o<n;o++)i+=C(e[o]);return i}(a,t,n);break;case"utf8":case"utf-8":r=function(e,t,n){var r="",i="";n=Math.min(e.length,n);for(var o=t;o<n;o++)e[o]<=127?(r+=$(i)+String.fromCharCode(e[o]),i=""):i+="%"+e[o].toString(16);return r+$(i)}(a,t,n);break;case"ascii":case"binary":r=g(a,t,n);break;case"base64":i=a,s=n,r=0===(o=t)&&s===i.length?d.fromByteArray(i):d.fromByteArray(i.slice(o,s));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=function(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}(a,t,n);break;default:throw new Error("Unknown encoding")}return r},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},i.prototype.copy=function(e,t,n,r){if(t=t||0,(r=r||0===r?r:this.length)!==(n=n||0)&&0!==e.length&&0!==this.length){D(n<=r,"sourceEnd < sourceStart"),D(0<=t&&t<e.length,"targetStart out of bounds"),D(0<=n&&n<this.length,"sourceStart out of bounds"),D(0<=r&&r<=this.length,"sourceEnd out of bounds"),r>this.length&&(r=this.length);var o=(r=e.length-t<r-n?e.length-t+n:r)-n;if(o<100||!i._useTypedArrays)for(var s=0;s<o;s++)e[s+t]=this[s+n];else e._set(this.subarray(n,n+o),t)}},i.prototype.slice=function(e,t){var n=this.length;if(e=P(e,n,0),t=P(t,n,n),i._useTypedArrays)return i._augment(this.subarray(e,t));for(var r=t-e,o=new i(r,void 0,!0),s=0;s<r;s++)o[s]=this[s+e];return o},i.prototype.get=function(e){return this.readUInt8(e)},i.prototype.set=function(e,t){return this.writeUInt8(e,t)},i.prototype.readUInt8=function(e,t){if(t||(D(null!=e,"missing offset"),D(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return this[e]},i.prototype.readUInt16LE=function(e,t){return v(this,e,!0,t)},i.prototype.readUInt16BE=function(e,t){return v(this,e,!1,t)},i.prototype.readUInt32LE=function(e,t){return m(this,e,!0,t)},i.prototype.readUInt32BE=function(e,t){return m(this,e,!1,t)},i.prototype.readInt8=function(e,t){if(t||(D(null!=e,"missing offset"),D(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return 128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){return _(this,e,!0,t)},i.prototype.readInt16BE=function(e,t){return _(this,e,!1,t)},i.prototype.readInt32LE=function(e,t){return y(this,e,!0,t)},i.prototype.readInt32BE=function(e,t){return y(this,e,!1,t)},i.prototype.readFloatLE=function(e,t){return b(this,e,!0,t)},i.prototype.readFloatBE=function(e,t){return b(this,e,!1,t)},i.prototype.readDoubleLE=function(e,t){return w(this,e,!0,t)},i.prototype.readDoubleBE=function(e,t){return w(this,e,!1,t)},i.prototype.writeUInt8=function(e,t,n){n||(D(null!=e,"missing value"),D(null!=t,"missing offset"),D(t<this.length,"trying to write beyond buffer length"),B(e,255)),t>=this.length||(this[t]=e)},i.prototype.writeUInt16LE=function(e,t,n){k(this,e,t,!0,n)},i.prototype.writeUInt16BE=function(e,t,n){k(this,e,t,!1,n)},i.prototype.writeUInt32LE=function(e,t,n){A(this,e,t,!0,n)},i.prototype.writeUInt32BE=function(e,t,n){A(this,e,t,!1,n)},i.prototype.writeInt8=function(e,t,n){n||(D(null!=e,"missing value"),D(null!=t,"missing offset"),D(t<this.length,"Trying to write beyond buffer length"),N(e,127,-128)),t>=this.length||(0<=e?this.writeUInt8(e,t,n):this.writeUInt8(255+e+1,t,n))},i.prototype.writeInt16LE=function(e,t,n){E(this,e,t,!0,n)},i.prototype.writeInt16BE=function(e,t,n){E(this,e,t,!1,n)},i.prototype.writeInt32LE=function(e,t,n){x(this,e,t,!0,n)},i.prototype.writeInt32BE=function(e,t,n){x(this,e,t,!1,n)},i.prototype.writeFloatLE=function(e,t,n){S(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){S(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){I(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){I(this,e,t,!1,n)},i.prototype.fill=function(e,t,n){if(t=t||0,n=n||this.length,D("number"==typeof(e="string"==typeof(e=e||0)?e.charCodeAt(0):e)&&!isNaN(e),"value is not a number"),D(t<=n,"end < start"),n!==t&&0!==this.length){D(0<=t&&t<this.length,"start out of bounds"),D(0<=n&&n<=this.length,"end out of bounds");for(var r=t;r<n;r++)this[r]=e}},i.prototype.inspect=function(){for(var e=[],t=this.length,r=0;r<t;r++)if(e[r]=C(this[r]),r===n.INSPECT_MAX_BYTES){e[r+1]="...";break}return"<Buffer "+e.join(" ")+">"},i.prototype.toArrayBuffer=function(){if("undefined"==typeof Uint8Array)throw new Error("Buffer.toArrayBuffer not supported in this browser");if(i._useTypedArrays)return new i(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;t<n;t+=1)e[t]=this[t];return e.buffer};var F=i.prototype;function P(e,t,n){return"number"!=typeof e?n:t<=(e=~~e)?t:0<=e||0<=(e+=t)?e:0}function R(e){return(e=~~Math.ceil(+e))<0?0:e}function T(e){return(Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)}function C(e){return e<16?"0"+e.toString(16):e.toString(16)}function O(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(e.charCodeAt(n));else for(var i=n,o=(55296<=r&&r<=57343&&n++,encodeURIComponent(e.slice(i,n+1)).substr(1).split("%")),s=0;s<o.length;s++)t.push(parseInt(o[s],16))}return t}function M(e){return d.toByteArray(e)}function L(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);i++)t[i+n]=e[i];return i}function $(e){try{return decodeURIComponent(e)}catch(e){return String.fromCharCode(65533)}}function B(e,t){D("number"==typeof e,"cannot write a non-number as a number"),D(0<=e,"specified a negative value for writing an unsigned value"),D(e<=t,"value is larger than maximum value for type"),D(Math.floor(e)===e,"value has a fractional component")}function N(e,t,n){D("number"==typeof e,"cannot write a non-number as a number"),D(e<=t,"value larger than maximum allowed value"),D(n<=e,"value smaller than minimum allowed value"),D(Math.floor(e)===e,"value has a fractional component")}function j(e,t,n){D("number"==typeof e,"cannot write a non-number as a number"),D(e<=t,"value larger than maximum allowed value"),D(n<=e,"value smaller than minimum allowed value")}function D(e,t){if(!e)throw new Error(t||"Failed assertion")}i._augment=function(e){return e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=F.get,e.set=F.set,e.write=F.write,e.toString=F.toString,e.toLocaleString=F.toString,e.toJSON=F.toJSON,e.copy=F.copy,e.slice=F.slice,e.readUInt8=F.readUInt8,e.readUInt16LE=F.readUInt16LE,e.readUInt16BE=F.readUInt16BE,e.readUInt32LE=F.readUInt32LE,e.readUInt32BE=F.readUInt32BE,e.readInt8=F.readInt8,e.readInt16LE=F.readInt16LE,e.readInt16BE=F.readInt16BE,e.readInt32LE=F.readInt32LE,e.readInt32BE=F.readInt32BE,e.readFloatLE=F.readFloatLE,e.readFloatBE=F.readFloatBE,e.readDoubleLE=F.readDoubleLE,e.readDoubleBE=F.readDoubleBE,e.writeUInt8=F.writeUInt8,e.writeUInt16LE=F.writeUInt16LE,e.writeUInt16BE=F.writeUInt16BE,e.writeUInt32LE=F.writeUInt32LE,e.writeUInt32BE=F.writeUInt32BE,e.writeInt8=F.writeInt8,e.writeInt16LE=F.writeInt16LE,e.writeInt16BE=F.writeInt16BE,e.writeInt32LE=F.writeInt32LE,e.writeInt32BE=F.writeInt32BE,e.writeFloatLE=F.writeFloatLE,e.writeFloatBE=F.writeFloatBE,e.writeDoubleLE=F.writeDoubleLE,e.writeDoubleBE=F.writeDoubleBE,e.fill=F.fill,e.inspect=F.inspect,e.toArrayBuffer=F.toArrayBuffer,e}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(e,t,n){(function(n,r,i,o,s,a,u,l,c){i=e("buffer").Buffer;var d=4,f=new i(d);f.fill(0),t.exports={hash:function(e,t,n,r){for(var o=t(function(e,t){e.length%d!=0&&(n=e.length+(d-e.length%d),e=i.concat([e,f],n));for(var n,r=[],o=t?e.readInt32BE:e.readInt32LE,s=0;s<e.length;s+=d)r.push(o.call(e,s));return r}(e=i.isBuffer(e)?e:new i(e),r),8*e.length),s=(t=r,new i(n)),a=t?s.writeInt32BE:s.writeInt32LE,u=0;u<o.length;u++)a.call(s,o[u],4*u,!0);return s}}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(e,t,n){(function(t,r,i,o,s,a,u,l,c){i=e("buffer").Buffer;var d=e("./sha"),f=e("./sha256"),h=e("./rng"),p={sha1:d,sha256:f,md5:e("./md5")},g=64,v=new i(g);function m(e,t){var n=p[e=e||"sha1"],r=[];return n||_("algorithm:",e,"is not yet supported"),{update:function(e){return i.isBuffer(e)||(e=new i(e)),r.push(e),e.length,this},digest:function(e){var o=i.concat(r);return o=t?function(e,t,n){i.isBuffer(t)||(t=new i(t)),i.isBuffer(n)||(n=new i(n)),t.length>g?t=e(t):t.length<g&&(t=i.concat([t,v],g));for(var r=new i(g),o=new i(g),s=0;s<g;s++)r[s]=54^t[s],o[s]=92^t[s];return n=e(i.concat([r,n])),e(i.concat([o,n]))}(n,t,o):n(o),r=null,e?o.toString(e):o}}}function _(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}v.fill(0),n.createHash=function(e){return m(e)},n.createHmac=m,n.randomBytes=function(e,t){if(!t||!t.call)return new i(h(e));try{t.call(this,void 0,new i(h(e)))}catch(e){t(e)}};var y,b=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],w=function(e){n[e]=function(){_("sorry,",e,"is not implemented yet")}};for(y in b)w(b[y],y)}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(e,t,n){(function(n,r,i,o,s,a,u,l,c){var d=e("./helpers");function f(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,s=0;s<e.length;s+=16){var a=n,u=r,l=i,c=o;n=p(n,r,i,o,e[s+0],7,-680876936),o=p(o,n,r,i,e[s+1],12,-389564586),i=p(i,o,n,r,e[s+2],17,606105819),r=p(r,i,o,n,e[s+3],22,-1044525330),n=p(n,r,i,o,e[s+4],7,-176418897),o=p(o,n,r,i,e[s+5],12,1200080426),i=p(i,o,n,r,e[s+6],17,-1473231341),r=p(r,i,o,n,e[s+7],22,-45705983),n=p(n,r,i,o,e[s+8],7,1770035416),o=p(o,n,r,i,e[s+9],12,-1958414417),i=p(i,o,n,r,e[s+10],17,-42063),r=p(r,i,o,n,e[s+11],22,-1990404162),n=p(n,r,i,o,e[s+12],7,1804603682),o=p(o,n,r,i,e[s+13],12,-40341101),i=p(i,o,n,r,e[s+14],17,-1502002290),n=g(n,r=p(r,i,o,n,e[s+15],22,1236535329),i,o,e[s+1],5,-165796510),o=g(o,n,r,i,e[s+6],9,-1069501632),i=g(i,o,n,r,e[s+11],14,643717713),r=g(r,i,o,n,e[s+0],20,-373897302),n=g(n,r,i,o,e[s+5],5,-701558691),o=g(o,n,r,i,e[s+10],9,38016083),i=g(i,o,n,r,e[s+15],14,-660478335),r=g(r,i,o,n,e[s+4],20,-405537848),n=g(n,r,i,o,e[s+9],5,568446438),o=g(o,n,r,i,e[s+14],9,-1019803690),i=g(i,o,n,r,e[s+3],14,-187363961),r=g(r,i,o,n,e[s+8],20,1163531501),n=g(n,r,i,o,e[s+13],5,-1444681467),o=g(o,n,r,i,e[s+2],9,-51403784),i=g(i,o,n,r,e[s+7],14,1735328473),n=v(n,r=g(r,i,o,n,e[s+12],20,-1926607734),i,o,e[s+5],4,-378558),o=v(o,n,r,i,e[s+8],11,-2022574463),i=v(i,o,n,r,e[s+11],16,1839030562),r=v(r,i,o,n,e[s+14],23,-35309556),n=v(n,r,i,o,e[s+1],4,-1530992060),o=v(o,n,r,i,e[s+4],11,1272893353),i=v(i,o,n,r,e[s+7],16,-155497632),r=v(r,i,o,n,e[s+10],23,-1094730640),n=v(n,r,i,o,e[s+13],4,681279174),o=v(o,n,r,i,e[s+0],11,-358537222),i=v(i,o,n,r,e[s+3],16,-722521979),r=v(r,i,o,n,e[s+6],23,76029189),n=v(n,r,i,o,e[s+9],4,-640364487),o=v(o,n,r,i,e[s+12],11,-421815835),i=v(i,o,n,r,e[s+15],16,530742520),n=m(n,r=v(r,i,o,n,e[s+2],23,-995338651),i,o,e[s+0],6,-198630844),o=m(o,n,r,i,e[s+7],10,1126891415),i=m(i,o,n,r,e[s+14],15,-1416354905),r=m(r,i,o,n,e[s+5],21,-57434055),n=m(n,r,i,o,e[s+12],6,1700485571),o=m(o,n,r,i,e[s+3],10,-1894986606),i=m(i,o,n,r,e[s+10],15,-1051523),r=m(r,i,o,n,e[s+1],21,-2054922799),n=m(n,r,i,o,e[s+8],6,1873313359),o=m(o,n,r,i,e[s+15],10,-30611744),i=m(i,o,n,r,e[s+6],15,-1560198380),r=m(r,i,o,n,e[s+13],21,1309151649),n=m(n,r,i,o,e[s+4],6,-145523070),o=m(o,n,r,i,e[s+11],10,-1120210379),i=m(i,o,n,r,e[s+2],15,718787259),r=m(r,i,o,n,e[s+9],21,-343485551),n=_(n,a),r=_(r,u),i=_(i,l),o=_(o,c)}return Array(n,r,i,o)}function h(e,t,n,r,i,o){return _((t=_(_(t,e),_(r,o)))<<i|t>>>32-i,n)}function p(e,t,n,r,i,o,s){return h(t&n|~t&r,e,t,i,o,s)}function g(e,t,n,r,i,o,s){return h(t&r|n&~r,e,t,i,o,s)}function v(e,t,n,r,i,o,s){return h(t^n^r,e,t,i,o,s)}function m(e,t,n,r,i,o,s){return h(n^(t|~r),e,t,i,o,s)}function _(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}t.exports=function(e){return d.hash(e,f,16)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(e,t,n){(function(e,n,r,i,o,s,a,u,l){var c;t.exports=c||function(e){for(var t,n=new Array(e),r=0;r<e;r++)!(3&r)&&(t=4294967296*Math.random()),n[r]=t>>>((3&r)<<3)&255;return n}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(e,t,n){(function(n,r,i,o,s,a,u,l,c){var d=e("./helpers");function f(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var n,r,i,o=Array(80),s=1732584193,a=-271733879,u=-1732584194,l=271733878,c=-1009589776,d=0;d<e.length;d+=16){for(var f=s,g=a,v=u,m=l,_=c,y=0;y<80;y++){o[y]=y<16?e[d+y]:p(o[y-3]^o[y-8]^o[y-14]^o[y-16],1);var b=h(h(p(s,5),(b=a,r=u,i=l,(n=y)<20?b&r|~b&i:!(n<40)&&n<60?b&r|b&i|r&i:b^r^i)),h(h(c,o[y]),(n=y)<20?1518500249:n<40?1859775393:n<60?-1894007588:-899497514));c=l,l=u,u=p(a,30),a=s,s=b}s=h(s,f),a=h(a,g),u=h(u,v),l=h(l,m),c=h(c,_)}return Array(s,a,u,l,c)}function h(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function p(e,t){return e<<t|e>>>32-t}t.exports=function(e){return d.hash(e,f,20,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(e,t,n){(function(n,r,i,o,s,a,u,l,c){function d(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function f(e,t){var n,r=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),i=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),o=new Array(64);e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var s,a,u=0;u<e.length;u+=16){for(var l=i[0],c=i[1],f=i[2],h=i[3],v=i[4],m=i[5],_=i[6],y=i[7],b=0;b<64;b++)o[b]=b<16?e[b+u]:d(d(d((a=o[b-2],p(a,17)^p(a,19)^g(a,10)),o[b-7]),(a=o[b-15],p(a,7)^p(a,18)^g(a,3))),o[b-16]),n=d(d(d(d(y,p(a=v,6)^p(a,11)^p(a,25)),v&m^~v&_),r[b]),o[b]),s=d(p(s=l,2)^p(s,13)^p(s,22),l&c^l&f^c&f),y=_,_=m,m=v,v=d(h,n),h=f,f=c,c=l,l=d(n,s);i[0]=d(l,i[0]),i[1]=d(c,i[1]),i[2]=d(f,i[2]),i[3]=d(h,i[3]),i[4]=d(v,i[4]),i[5]=d(m,i[5]),i[6]=d(_,i[6]),i[7]=d(y,i[7])}return i}var h=e("./helpers"),p=function(e,t){return e>>>t|e<<32-t},g=function(e,t){return e>>>t};t.exports=function(e){return h.hash(e,f,32,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(e,t,n){(function(e,t,r,i,o,s,a,u,l){n.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,l=u>>1,c=-7,d=n?i-1:0,f=n?-1:1;for(i=e[t+d],d+=f,o=i&(1<<-c)-1,i>>=-c,c+=a;0<c;o=256*o+e[t+d],d+=f,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=r;0<c;s=256*s+e[t+d],d+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(i?-1:1);s+=Math.pow(2,r),o-=l}return(i?-1:1)*s*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var s,a,u=8*o-i-1,l=(1<<u)-1,c=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,h=r?1:-1;for(o=t<0||0===t&&1/t<0?1:0,t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(r=Math.pow(2,-s))<1&&(s--,r*=2),2<=(t+=1<=s+c?d/r:d*Math.pow(2,1-c))*r&&(s++,r/=2),l<=s+c?(a=0,s=l):1<=s+c?(a=(t*r-1)*Math.pow(2,i),s+=c):(a=t*Math.pow(2,c-1)*Math.pow(2,i),s=0));8<=i;e[n+f]=255&a,f+=h,a/=256,i-=8);for(s=s<<i|a,u+=i;0<u;e[n+f]=255&s,f+=h,s/=256,u-=8);e[n+f-h]|=128*o}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(e,t,n){(function(e,n,r,i,o,s,a,u,l){var c,d,f;function h(){}(e=t.exports={}).nextTick=(d="undefined"!=typeof window&&window.setImmediate,f="undefined"!=typeof window&&window.postMessage&&window.addEventListener,d?function(e){return window.setImmediate(e)}:f?(c=[],window.addEventListener("message",(function(e){var t=e.source;t!==window&&null!==t||"process-tick"!==e.data||(e.stopPropagation(),0<c.length&&c.shift()())}),!0),function(e){c.push(e),window.postMessage("process-tick","*")}):function(e){setTimeout(e,0)}),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.on=h,e.addListener=h,e.once=h,e.off=h,e.removeListener=h,e.removeAllListeners=h,e.emit=h,e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)},1429:e=>{e.exports={NODE_ENV:"production",TARGET_BROWSER:"firefox",API_ENDPOINT:"https://api.simplify.jobs",SIMPLIFY_DOMAIN:"https://simplify.jobs",SIMPLIFY_HOST:"simplify.jobs",SABRE_CONFIG_URL:"https://sabre.simplify.jobs",AXIOM_ORG_ID:"simplify-qiqd",AXIOM_ANALYTICS_API_TOKEN:"xaat-e0a585d9-2911-489d-8c83-babd0dc44f28",POSTHOG_ANALYTICS_ID:"foZTeM1AW8dh5WkaofxTYiInBhS4XzTzRqLs50kVziw",ANALYSIS_MODE:!1,SIMPLIFY_UNINSTALL_URL:"https://simplify.jobs/uninstall",FRIGADE_PUBLIC_API_KEY:"api_public_8GWmL7WA5ZhXlVJDwdggj3EJAvJSMhcCGwZVl4FPhT3I97vvn1d2En9Iax8yGuW8"}},7232:function(e,t,n){var r;!function(i,o){"use strict";var s="function",a="undefined",u="object",l="string",c="major",d="model",f="name",h="type",p="vendor",g="version",v="architecture",m="console",_="mobile",y="tablet",b="smarttv",w="wearable",k="embedded",A="Amazon",E="Apple",x="ASUS",S="BlackBerry",I="Browser",F="Chrome",P="Firefox",R="Google",T="Huawei",C="LG",O="Microsoft",M="Motorola",L="Opera",$="Samsung",B="Sharp",N="Sony",j="Xiaomi",D="Zebra",q="Facebook",U="Chromium OS",H="Mac OS",z=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},W=function(e,t){return typeof e===l&&-1!==G(t).indexOf(G(e))},G=function(e){return e.toLowerCase()},V=function(e,t){if(typeof e===l)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,500)},Y=function(e,t){for(var n,r,i,a,l,c,d=0;d<t.length&&!l;){var f=t[d],h=t[d+1];for(n=r=0;n<f.length&&!l&&f[n];)if(l=f[n++].exec(e))for(i=0;i<h.length;i++)c=l[++r],typeof(a=h[i])===u&&a.length>0?2===a.length?typeof a[1]==s?this[a[0]]=a[1].call(this,c):this[a[0]]=a[1]:3===a.length?typeof a[1]!==s||a[1].exec&&a[1].test?this[a[0]]=c?c.replace(a[1],a[2]):o:this[a[0]]=c?a[1].call(this,c,a[2]):o:4===a.length&&(this[a[0]]=c?a[3].call(this,c.replace(a[1],a[2])):o):this[a]=c||o;d+=2}},Q=function(e,t){for(var n in t)if(typeof t[n]===u&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(W(t[n][r],e))return"?"===n?o:n}else if(W(t[n],e))return"?"===n?o:n;return e},X={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},K={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,g],[/opios[\/ ]+([\w\.]+)/i],[g,[f,L+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[g,[f,L+" GX"]],[/\bopr\/([\w\.]+)/i],[g,[f,L]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[g,[f,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,g],[/\bddg\/([\w\.]+)/i],[g,[f,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[f,"UC"+I]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[g,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[g,[f,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[g,[f,"Smart Lenovo "+I]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+I],g],[/\bfocus\/([\w\.]+)/i],[g,[f,P+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[f,L+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[f,L+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[f,"MIUI "+I]],[/fxios\/([-\w\.]+)/i],[g,[f,P]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 "+I]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 "+I],g],[/samsungbrowser\/([\w\.]+)/i],[g,[f,$+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],g],[/metasr[\/ ]?([\d\.]+)/i],[g,[f,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[f,"Sogou Mobile"],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[f,g],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,q],g],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[f,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[g,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[f,F+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,F+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[f,"Android "+I]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[g,Q,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[f,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[f,P+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[f,g],[/(cobalt)\/([\w\.]+)/i],[f,[g,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,G]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,"",G]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,G]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[p,$],[h,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[d,[p,$],[h,_]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[p,E],[h,_]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[p,E],[h,y]],[/(macintosh);/i],[d,[p,E]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[p,B],[h,_]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[p,T],[h,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[p,T],[h,_]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[d,/_/g," "],[p,j],[h,_]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[p,j],[h,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[p,"OPPO"],[h,_]],[/\b(opd2\d{3}a?) bui/i],[d,[p,"OPPO"],[h,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[p,"Vivo"],[h,_]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[p,"Realme"],[h,_]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[p,M],[h,_]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[p,M],[h,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[p,C],[h,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[p,C],[h,_]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[p,"Lenovo"],[h,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[p,"Nokia"],[h,_]],[/(pixel c)\b/i],[d,[p,R],[h,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[p,R],[h,_]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[p,N],[h,_]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[p,N],[h,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[p,"OnePlus"],[h,_]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[p,A],[h,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[p,A],[h,_]],[/(playbook);[-\w\),; ]+(rim)/i],[d,p,[h,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[p,S],[h,_]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[p,x],[h,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[p,x],[h,_]],[/(nexus 9)/i],[d,[p,"HTC"],[h,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[d,/_/g," "],[h,_]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[p,"Acer"],[h,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[p,"Meizu"],[h,_]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[p,"Ulefone"],[h,_]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,d,[h,_]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,d,[h,y]],[/(surface duo)/i],[d,[p,O],[h,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[p,"Fairphone"],[h,_]],[/(u304aa)/i],[d,[p,"AT&T"],[h,_]],[/\bsie-(\w*)/i],[d,[p,"Siemens"],[h,_]],[/\b(rct\w+) b/i],[d,[p,"RCA"],[h,y]],[/\b(venue[\d ]{2,7}) b/i],[d,[p,"Dell"],[h,y]],[/\b(q(?:mv|ta)\w+) b/i],[d,[p,"Verizon"],[h,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[p,"Barnes & Noble"],[h,y]],[/\b(tm\d{3}\w+) b/i],[d,[p,"NuVision"],[h,y]],[/\b(k88) b/i],[d,[p,"ZTE"],[h,y]],[/\b(nx\d{3}j) b/i],[d,[p,"ZTE"],[h,_]],[/\b(gen\d{3}) b.+49h/i],[d,[p,"Swiss"],[h,_]],[/\b(zur\d{3}) b/i],[d,[p,"Swiss"],[h,y]],[/\b((zeki)?tb.*\b) b/i],[d,[p,"Zeki"],[h,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],d,[h,y]],[/\b(ns-?\w{0,9}) b/i],[d,[p,"Insignia"],[h,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[p,"NextBook"],[h,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],d,[h,_]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],d,[h,_]],[/\b(ph-1) /i],[d,[p,"Essential"],[h,_]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[p,"Envizen"],[h,y]],[/\b(trio[-\w\. ]+) b/i],[d,[p,"MachSpeed"],[h,y]],[/\btu_(1491) b/i],[d,[p,"Rotor"],[h,y]],[/(shield[\w ]+) b/i],[d,[p,"Nvidia"],[h,y]],[/(sprint) (\w+)/i],[p,d,[h,_]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[p,O],[h,_]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[p,D],[h,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[p,D],[h,_]],[/smart-tv.+(samsung)/i],[p,[h,b]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[p,$],[h,b]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,C],[h,b]],[/(apple) ?tv/i],[p,[d,E+" TV"],[h,b]],[/crkey/i],[[d,F+"cast"],[p,R],[h,b]],[/droid.+aft(\w+)( bui|\))/i],[d,[p,A],[h,b]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[p,B],[h,b]],[/(bravia[\w ]+)( bui|\))/i],[d,[p,N],[h,b]],[/(mitv-\w{5}) bui/i],[d,[p,j],[h,b]],[/Hbbtv.*(technisat) (.*);/i],[p,d,[h,b]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,V],[d,V],[h,b]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,d,[h,m]],[/droid.+; (shield) bui/i],[d,[p,"Nvidia"],[h,m]],[/(playstation [345portablevi]+)/i],[d,[p,N],[h,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[p,O],[h,m]],[/((pebble))app/i],[p,d,[h,w]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[p,E],[h,w]],[/droid.+; (glass) \d/i],[d,[p,R],[h,w]],[/droid.+; (wt63?0{2,3})\)/i],[d,[p,D],[h,w]],[/(quest( \d| pro)?)/i],[d,[p,q],[h,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[h,k]],[/(aeobc)\b/i],[d,[p,A],[h,k]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[h,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[h,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,y]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,_]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[f,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,g],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[f,[g,Q,X]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[g,Q,X],[f,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,H],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,g],[/\(bb(10);/i],[g,[f,S]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[f,P+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[g,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[g,[f,F+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,U],g],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,g],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,g]]},J=function(e,t){if(typeof e===u&&(t=e,e=o),!(this instanceof J))return new J(e,t).getResult();var n=typeof i!==a&&i.navigator?i.navigator:o,r=e||(n&&n.userAgent?n.userAgent:""),m=n&&n.userAgentData?n.userAgentData:o,b=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(K,t):K,w=n&&n.userAgent==r;return this.getBrowser=function(){var e={};return e[f]=o,e[g]=o,Y.call(e,r,b.browser),e[c]=function(e){return typeof e===l?e.replace(/[^\d\.]/g,"").split(".")[0]:o}(e[g]),w&&n&&n.brave&&typeof n.brave.isBrave==s&&(e[f]="Brave"),e},this.getCPU=function(){var e={};return e[v]=o,Y.call(e,r,b.cpu),e},this.getDevice=function(){var e={};return e[p]=o,e[d]=o,e[h]=o,Y.call(e,r,b.device),w&&!e[h]&&m&&m.mobile&&(e[h]=_),w&&"Macintosh"==e[d]&&n&&typeof n.standalone!==a&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e[d]="iPad",e[h]=y),e},this.getEngine=function(){var e={};return e[f]=o,e[g]=o,Y.call(e,r,b.engine),e},this.getOS=function(){var e={};return e[f]=o,e[g]=o,Y.call(e,r,b.os),w&&!e[f]&&m&&m.platform&&"Unknown"!=m.platform&&(e[f]=m.platform.replace(/chrome os/i,U).replace(/macos/i,H)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===l&&e.length>500?V(e,500):e,this},this.setUA(r),this};J.VERSION="1.0.38",J.BROWSER=z([f,g,c]),J.CPU=z([v]),J.DEVICE=z([d,p,h,m,_,b,y,w,k]),J.ENGINE=J.OS=z([f,g]),typeof t!==a?(e.exports&&(t=e.exports=J),t.UAParser=J):n.amdO?(r=function(){return J}.call(t,n,t,e))===o||(e.exports=r):typeof i!==a&&(i.UAParser=J);var Z=typeof i!==a&&(i.jQuery||i.Zepto);if(Z&&!Z.ua){var ee=new J;Z.ua=ee.getResult(),Z.ua.get=function(){return ee.getUA()},Z.ua.set=function(e){ee.setUA(e);var t=ee.getResult();for(var n in t)Z.ua[n]=t[n]}}}("object"==typeof window?window:this)},6815:function(e,t){var n,r,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[e],n=function(e){"use strict";if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)e.exports=globalThis.browser;else{const t="The message port closed before a response was received.",n=e=>{const n={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(n).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class r extends WeakMap{constructor(e,t=void 0){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const i=e=>e&&"object"==typeof e&&"function"==typeof e.then,o=(t,n)=>(...r)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):n.singleCallbackArg||r.length<=1&&!1!==n.singleCallbackArg?t.resolve(r[0]):t.resolve(r)},s=e=>1==e?"argument":"arguments",a=(e,t)=>function(n,...r){if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${s(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${s(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((i,s)=>{if(t.fallbackToNoCallback)try{n[e](...r,o({resolve:i,reject:s},t))}catch(o){n[e](...r),t.fallbackToNoCallback=!1,t.noCallback=!0,i()}else t.noCallback?(n[e](...r),i()):n[e](...r,o({resolve:i,reject:s},t))}))},u=(e,t,n)=>new Proxy(t,{apply:(t,r,i)=>n.call(r,e,...i)});let l=Function.call.bind(Object.prototype.hasOwnProperty);const c=(e,t={},n={})=>{let r=Object.create(null),i={has:(t,n)=>n in e||n in r,get(i,o,s){if(o in r)return r[o];if(!(o in e))return;let d=e[o];if("function"==typeof d)if("function"==typeof t[o])d=u(e,e[o],t[o]);else if(l(n,o)){let t=a(o,n[o]);d=u(e,e[o],t)}else d=d.bind(e);else if("object"==typeof d&&null!==d&&(l(t,o)||l(n,o)))d=c(d,t[o],n[o]);else{if(!l(n,"*"))return Object.defineProperty(r,o,{configurable:!0,enumerable:!0,get:()=>e[o],set(t){e[o]=t}}),d;d=c(d,t[o],n["*"])}return r[o]=d,d},set:(t,n,i,o)=>(n in r?r[n]=i:e[n]=i,!0),defineProperty:(e,t,n)=>Reflect.defineProperty(r,t,n),deleteProperty:(e,t)=>Reflect.deleteProperty(r,t)},o=Object.create(e);return new Proxy(o,i)},d=e=>({addListener(t,n,...r){t.addListener(e.get(n),...r)},hasListener:(t,n)=>t.hasListener(e.get(n)),removeListener(t,n){t.removeListener(e.get(n))}}),f=new r((e=>"function"!=typeof e?e:function(t){const n=c(t,{},{getContent:{minArgs:0,maxArgs:0}});e(n)})),h=new r((e=>"function"!=typeof e?e:function(t,n,r){let o,s,a=!1,u=new Promise((e=>{o=function(t){a=!0,e(t)}}));try{s=e(t,n,o)}catch(e){s=Promise.reject(e)}const l=!0!==s&&i(s);if(!0!==s&&!l&&!a)return!1;const c=e=>{e.then((e=>{r(e)}),(e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",r({__mozWebExtensionPolyfillReject__:!0,message:t})})).catch((e=>{}))};return c(l?s:u),!0})),p=({reject:n,resolve:r},i)=>{e.runtime.lastError?e.runtime.lastError.message===t?r():n(new Error(e.runtime.lastError.message)):i&&i.__mozWebExtensionPolyfillReject__?n(new Error(i.message)):r(i)},g=(e,t,n,...r)=>{if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${s(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${s(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((e,t)=>{const i=p.bind(null,{resolve:e,reject:t});r.push(i),n.sendMessage(...r)}))},v={devtools:{network:{onRequestFinished:d(f)}},runtime:{onMessage:d(h),onMessageExternal:d(h),sendMessage:g.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:g.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},m={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return n.privacy={network:{"*":m},services:{"*":m},websites:{"*":m}},c(e,v,n)};e.exports=n(chrome)}},void 0===(i="function"==typeof n?n.apply(t,r):n)||(e.exports=i)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=e=>Array.isArray(e)?e:void 0!==e?[e]:[];var t=n(7232);n.n(t)()("undefined"==typeof navigator?"":navigator.userAgent);var r;const i="undefined"!=typeof process&&(null===(r=process.versions)||void 0===r?void 0:r.node);let o=!1;("undefined"!=typeof chrome&&chrome.runtime&&chrome.runtime.id||void 0!==n.g.browser&&n.g.browser.runtime&&n.g.browser.runtime.id)&&(o=!0);i||!o||n(6815);var s,a,u,l;const c=()=>{if("undefined"!=typeof navigator&&"onLine"in navigator)return navigator.onLine?void 0:"offline"},d="undefined"==typeof navigator?{}:{status:c(),type:null===(s=navigator.connection)||void 0===s?void 0:s.type,effectiveType:null===(a=navigator.connection)||void 0===a?void 0:a.effectiveType,downlink:null===(u=navigator.connection)||void 0===u?void 0:u.downlink,rtt:null===(l=navigator.connection)||void 0===l?void 0:l.rtt};var f,h;("undefined"!=typeof window&&(window.addEventListener("online",(()=>{d.status=c()})),window.addEventListener("offline",(()=>{d.status=c()}))),"undefined"!=typeof navigator)&&(null===(h=navigator.connection)||void 0===h||null===(f=h.addEventListener)||void 0===f||f.call(h,"change",(()=>{var e,t,n,r;d.status=c(),d.type=null===(e=navigator.connection)||void 0===e?void 0:e.type,d.effectiveType=null===(t=navigator.connection)||void 0===t?void 0:t.effectiveType,d.downlink=null===(n=navigator.connection)||void 0===n?void 0:n.downlink,d.rtt=null===(r=navigator.connection)||void 0===r?void 0:r.rtt})));n(4802);var p=n(1429);"undefined"!=typeof window&&(window.top,window.self);["undefined"!=typeof Element&&Element,"undefined"!=typeof Function&&Function,"undefined"!=typeof Location&&Location,"undefined"!=typeof ShadowRoot&&ShadowRoot].filter(Boolean);const g=e=>"object"==typeof e&&null!==e?"data__type"in e&&"Map"===e.data__type&&"data"in e?new Map(e.data):"data__type"in e&&"Set"===e.data__type&&"data"in e?new Set(e.data):"data__type"in e&&"Date"===e.data__type&&"data"in e?new Date(e.data):Array.isArray(e)?e.map((e=>g(e))):Object.fromEntries(Object.entries(e).map((([e,t])=>[e,g(t)]))):e;function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){a=!0,i=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||x(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=x(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}var F={DEBUG:!1,LIB_VERSION:"1.139.0"},P=Array.isArray,R=Object.prototype,T=R.hasOwnProperty,C=R.toString,O=P||function(e){return"[object Array]"===C.call(e)},M=function(e){return"function"==typeof e},L=function(e){return e===Object(e)&&!O(e)},$=function(e){if(L(e)){for(var t in e)if(T.call(e,t))return!1;return!0}return!1},B=function(e){return void 0===e},N=function(e){return"[object String]"==C.call(e)},j=function(e){return null===e},D=function(e){return B(e)||j(e)},q=function(e){return"[object Number]"==C.call(e)},U=function(e){return"[object Boolean]"===C.call(e)},H=function(e){return e instanceof FormData},z="undefined"!=typeof window?window:void 0,W="undefined"!=typeof globalThis?globalThis:z,G=Array.prototype,V=G.forEach,Y=G.indexOf,Q=null==W?void 0:W.navigator,X=null==W?void 0:W.document,K=null==W?void 0:W.location,J=null==W?void 0:W.fetch,Z=null!=W&&W.XMLHttpRequest&&"withCredentials"in new W.XMLHttpRequest?W.XMLHttpRequest:void 0,ee=null==W?void 0:W.AbortController,te=null==Q?void 0:Q.userAgent,ne=null!=z?z:{},re="[PostHog.js]",ie={_log:function(e){if(z&&(F.DEBUG||ne.POSTHOG_DEBUG)&&!B(z.console)&&z.console){for(var t=("__rrweb_original__"in z.console[e]?z.console[e].__rrweb_original__:z.console[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.apply(void 0,[re].concat(r))}},info:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ie._log.apply(ie,["log"].concat(t))},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ie._log.apply(ie,["warn"].concat(t))},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ie._log.apply(ie,["error"].concat(t))},critical:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).error.apply(e,[re].concat(n))},uninitializedWarning:function(e){ie.error("You must initialize PostHog before calling ".concat(e))}},oe={},se=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function ae(e,t,n){if(O(e))if(V&&e.forEach===V)e.forEach(t,n);else if("length"in e&&e.length===+e.length)for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r)===oe)return}function ue(e,t,n){if(!D(e)){if(O(e))return ae(e,t,n);if(H(e)){var r,i=I(e.entries());try{for(i.s();!(r=i.n()).done;){var o=r.value;if(t.call(n,o[1],o[0])===oe)return}}catch(e){i.e(e)}finally{i.f()}}else for(var s in e)if(T.call(e,s)&&t.call(n,e[s],s)===oe)return}}var le=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ae(n,(function(t){for(var n in t)void 0!==t[n]&&(e[n]=t[n])})),e};function ce(e,t){return-1!==e.indexOf(t)}function de(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r}var fe=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},he=function(e){try{return e()}catch(e){return}},pe=function(e){return function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}catch(e){ie.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),ie.critical(e)}}},ge=function(e){var t={};return ue(e,(function(e,n){N(e)&&e.length>0&&(t[n]=e)})),t},ve=function(e){return e.replace(/^\$/,"")};var me,_e=function(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation),t}return e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(t,n,r,i,o){if(t)if(t.addEventListener&&!i)t.addEventListener(n,r,!!o);else{var s="on"+n,a=t[s];t[s]=function(t,n,r){return function(i){if(i=i||e(null==z?void 0:z.event)){var o,s=!0;M(r)&&(o=r(i));var a=n.call(t,i);return!1!==o&&!1!==a||(s=!1),s}}}(t,r,a)}else ie.error("No valid element provided to register_event")}}();function ye(e,t){var n=function(){if(!X)return t("document not found");var n=X.createElement("script");n.type="text/javascript",n.src=e,n.onload=function(e){return t(void 0,e)},n.onerror=function(e){return t(e)};var r,i=X.querySelectorAll("body > script");i.length>0?null===(r=i[0].parentNode)||void 0===r||r.insertBefore(n,i[0]):X.body.appendChild(n)};null!=X&&X.body?n():null==X||X.addEventListener("DOMContentLoaded",n)}function be(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}!function(e){e.GZipJS="gzip-js",e.Base64="base64"}(me||(me={}));var we="$people_distinct_id",ke="__alias",Ae="__timers",Ee="$autocapture_disabled_server_side",xe="$heatmaps_enabled_server_side",Se="$session_recording_enabled_server_side",Ie="$console_log_recording_enabled_server_side",Fe="$session_recording_network_payload_capture",Pe="$session_recording_canvas_recording",Re="$replay_sample_rate",Te="$replay_minimum_duration",Ce="$sesid",Oe="$session_is_sampled",Me="$enabled_feature_flags",Le="$early_access_features",$e="$stored_person_properties",Be="$stored_group_properties",Ne="$surveys",je="$surveys_activated",De="$flag_call_reported",qe="$user_state",Ue="$client_session_props",He="$capture_rate_limit",ze="$initial_campaign_params",We="$initial_referrer_info",Ge="$initial_person_info",Ve="$epp",Ye="__POSTHOG_TOOLBAR__",Qe=[we,ke,"__cmpns",Ae,Se,xe,Ce,Me,qe,Le,Be,$e,Ne,De,Ue,He,ze,We,Ve],Xe="$active_feature_flags",Ke="$override_feature_flags",Je="$feature_flag_payloads",Ze=function(e){var t,n={},r=I(de(e||{}));try{for(r.s();!(t=r.n()).done;){var i=A(t.value,2),o=i[0],s=i[1];s&&(n[o]=s)}}catch(e){r.e(e)}finally{r.f()}return n},et=function(){function e(t){y(this,e),this.instance=t,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}return w(e,[{key:"getFlags",value:function(){return Object.keys(this.getFlagVariants())}},{key:"getFlagVariants",value:function(){var e=this.instance.get_property(Me),t=this.instance.get_property(Ke);if(!t)return e||{};for(var n=le({},e),r=Object.keys(t),i=0;i<r.length;i++)n[r[i]]=t[r[i]];return this._override_warning||(ie.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:t,finalFlags:n}),this._override_warning=!0),n}},{key:"getFlagPayloads",value:function(){return this.instance.get_property(Je)||{}}},{key:"reloadFeatureFlags",value:function(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}},{key:"setAnonymousDistinctId",value:function(e){this.$anon_distinct_id=e}},{key:"setReloadingPaused",value:function(e){this.reloadFeatureFlagsInAction=e}},{key:"resetRequestQueue",value:function(){this.reloadFeatureFlagsQueued=!1}},{key:"_startReloadTimer",value:function(){var e=this;this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout((function(){!e.reloadFeatureFlagsInAction&&e.reloadFeatureFlagsQueued&&(e.reloadFeatureFlagsQueued=!1,e._reloadFeatureFlagsRequest())}),5)}},{key:"_reloadFeatureFlagsRequest",value:function(){var e=this;if(!this.instance.config.advanced_disable_feature_flags){this.setReloadingPaused(!0);var t=this.instance.config.token,n=this.instance.get_property($e),r=this.instance.get_property(Be),i={token:t,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:n,group_properties:r,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:i,compression:this.instance.config.disable_compression?void 0:me.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:function(t){var n;e.setReloadingPaused(!1);var r=!0;200===t.statusCode&&(e.$anon_distinct_id=void 0,r=!1),e.receivedFeatureFlags(null!==(n=t.json)&&void 0!==n?n:{},r),e._startReloadTimer()}})}}},{key:"getFeatureFlag",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0){var n,r=this.getFlagVariants()[e],i="".concat(r),o=this.instance.get_property(De)||{};return!t.send_event&&"send_event"in t||e in o&&o[e].includes(i)||(O(o[e])?o[e].push(i):o[e]=[i],null===(n=this.instance.persistence)||void 0===n||n.register(k({},De,o)),this.instance.capture("$feature_flag_called",{$feature_flag:e,$feature_flag_response:r})),r}ie.warn('getFeatureFlag for key "'+e+"\" failed. Feature flags didn't load in time.")}},{key:"getFeatureFlagPayload",value:function(e){return this.getFlagPayloads()[e]}},{key:"isFeatureEnabled",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(e,t);ie.warn('isFeatureEnabled for key "'+e+"\" failed. Feature flags didn't load in time.")}},{key:"addFeatureFlagsHandler",value:function(e){this.featureFlagEventHandlers.push(e)}},{key:"removeFeatureFlagsHandler",value:function(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter((function(t){return t!==e}))}},{key:"receivedFeatureFlags",value:function(e,t){if(this.instance.persistence){this.instance.decideEndpointWasHit=!0;var n=this.getFlagVariants(),r=this.getFlagPayloads();!function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e.featureFlags,s=e.featureFlagPayloads;if(o)if(O(o)){var a,u={};if(o)for(var l=0;l<o.length;l++)u[o[l]]=!0;t&&t.register((k(a={},Xe,o),k(a,Me,u),a))}else{var c=o,d=s;e.errorsWhileComputingFlags&&(c=m(m({},r),c),d=m(m({},i),d)),t&&t.register((k(n={},Xe,Object.keys(Ze(c))),k(n,Me,c||{}),k(n,Je,d||{}),n))}}(e,this.instance.persistence,n,r),this._fireFeatureFlagsCallbacks(t)}}},{key:"override",value:function(e){if(!this.instance.__loaded||!this.instance.persistence)return ie.uninitializedWarning("posthog.feature_flags.override");if(this._override_warning=!1,!1===e)this.instance.persistence.unregister(Ke);else if(O(e)){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;this.instance.persistence.register(k({},Ke,t))}else this.instance.persistence.register(k({},Ke,e))}},{key:"onFeatureFlags",value:function(e){var t=this;if(this.addFeatureFlagsHandler(e),this.instance.decideEndpointWasHit){var n=this._prepareFeatureFlagsForCallbacks(),r=n.flags,i=n.flagVariants;e(r,i)}return function(){return t.removeFeatureFlagsHandler(e)}}},{key:"updateEarlyAccessFeatureEnrollment",value:function(e,t){var n,r,i=k({},"$feature_enrollment/".concat(e),t);this.instance.capture("$feature_enrollment_update",{$feature_flag:e,$feature_enrollment:t,$set:i}),this.setPersonPropertiesForFlags(i,!1);var o=m(m({},this.getFlagVariants()),{},k({},e,t));null===(n=this.instance.persistence)||void 0===n||n.register((k(r={},Xe,Object.keys(Ze(o))),k(r,Me,o),r)),this._fireFeatureFlagsCallbacks()}},{key:"getEarlyAccessFeatures",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.instance.get_property(Le);if(r&&!n)return e(r);this.instance._send_request({transport:"XHR",url:this.instance.requestRouter.endpointFor("api","/api/early_access_features/?token=".concat(this.instance.config.token)),method:"GET",callback:function(n){var r;if(n.json){var i=n.json.earlyAccessFeatures;return null===(r=t.instance.persistence)||void 0===r||r.register(k({},Le,i)),e(i)}}})}},{key:"_prepareFeatureFlagsForCallbacks",value:function(){var e=this.getFlags(),t=this.getFlagVariants();return{flags:e.filter((function(e){return t[e]})),flagVariants:Object.keys(t).filter((function(e){return t[e]})).reduce((function(e,n){return e[n]=t[n],e}),{})}}},{key:"_fireFeatureFlagsCallbacks",value:function(e){var t=this._prepareFeatureFlagsForCallbacks(),n=t.flags,r=t.flagVariants;this.featureFlagEventHandlers.forEach((function(t){return t(n,r,{errorsLoading:e})}))}},{key:"setPersonPropertiesForFlags",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.instance.get_property($e)||{};this.instance.register(k({},$e,m(m({},n),e))),t&&this.instance.reloadFeatureFlags()}},{key:"resetPersonPropertiesForFlags",value:function(){this.instance.unregister($e)}},{key:"setGroupPropertiesForFlags",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.instance.get_property(Be)||{};0!==Object.keys(n).length&&Object.keys(n).forEach((function(t){n[t]=m(m({},n[t]),e[t]),delete e[t]})),this.instance.register(k({},Be,m(m({},n),e))),t&&this.instance.reloadFeatureFlags()}},{key:"resetGroupPropertiesForFlags",value:function(e){if(e){var t=this.instance.get_property(Be)||{};this.instance.register(k({},Be,m(m({},t),{},k({},e,{}))))}else this.instance.unregister(Be)}}]),e}();Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return q(e)&&isFinite(e)&&Math.floor(e)===e});var tt="0123456789abcdef",nt=function(){function e(t){if(y(this,e),this.bytes=t,16!==t.length)throw new TypeError("not 128-bit length")}return w(e,[{key:"toString",value:function(){for(var e="",t=0;t<this.bytes.length;t++)e=e+tt.charAt(this.bytes[t]>>>4)+tt.charAt(15&this.bytes[t]),3!==t&&5!==t&&7!==t&&9!==t||(e+="-");if(36!==e.length)throw new Error("Invalid UUIDv7 was generated");return e}},{key:"clone",value:function(){return new e(this.bytes.slice(0))}},{key:"equals",value:function(e){return 0===this.compareTo(e)}},{key:"compareTo",value:function(e){for(var t=0;t<16;t++){var n=this.bytes[t]-e.bytes[t];if(0!==n)return Math.sign(n)}return 0}}],[{key:"fromFieldsV7",value:function(t,n,r,i){if(!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||!Number.isInteger(i)||t<0||n<0||r<0||i<0||t>0xffffffffffff||n>4095||r>1073741823||i>4294967295)throw new RangeError("invalid field value");var o=new Uint8Array(16);return o[0]=t/Math.pow(2,40),o[1]=t/Math.pow(2,32),o[2]=t/Math.pow(2,24),o[3]=t/Math.pow(2,16),o[4]=t/Math.pow(2,8),o[5]=t,o[6]=112|n>>>8,o[7]=n,o[8]=128|r>>>24,o[9]=r>>>16,o[10]=r>>>8,o[11]=r,o[12]=i>>>24,o[13]=i>>>16,o[14]=i>>>8,o[15]=i,new e(o)}}]),e}(),rt=function(){function e(){y(this,e),k(this,"timestamp",0),k(this,"counter",0),k(this,"random",new st)}return w(e,[{key:"generate",value:function(){var e=this.generateOrAbort();if(B(e)){this.timestamp=0;var t=this.generateOrAbort();if(B(t))throw new Error("Could not generate UUID after timestamp reset");return t}return e}},{key:"generateOrAbort",value:function(){var e=Date.now();if(e>this.timestamp)this.timestamp=e,this.resetCounter();else{if(!(e+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return nt.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Math.pow(2,30)),this.counter&Math.pow(2,30)-1,this.random.nextUint32())}},{key:"resetCounter",value:function(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}]),e}(),it=function(e){if("undefined"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};z&&!B(z.crypto)&&crypto.getRandomValues&&(it=function(e){return crypto.getRandomValues(e)});var ot,st=function(){function e(){y(this,e),k(this,"buffer",new Uint32Array(8)),k(this,"cursor",1/0)}return w(e,[{key:"nextUint32",value:function(){return this.cursor>=this.buffer.length&&(it(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}]),e}(),at=function(){return ut().toString()},ut=function(){return(ot||(ot=new rt)).generate()},lt="",ct=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;var dt,ft={is_supported:function(){return!!X},error:function(e){ie.error("cookieStore error: "+e)},get:function(e){if(X){try{for(var t=e+"=",n=X.cookie.split(";").filter((function(e){return e.length})),r=0;r<n.length;r++){for(var i=n[r];" "==i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return decodeURIComponent(i.substring(t.length,i.length))}}catch(e){}return null}},parse:function(e){var t;try{t=JSON.parse(ft.get(e))||{}}catch(e){}return t},set:function(e,t,n,r,i){if(X)try{var o="",s="",a=function(e,t){if(t){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X;if(lt)return lt;if(!t)return"";if(["localhost","127.0.0.1"].includes(e))return"";for(var n=e.split("."),r=Math.min(n.length,8),i="dmn_chk_"+at(),o=new RegExp("(^|;)\\s*"+i+"=1");!lt&&r--;){var s=n.slice(r).join("."),a=i+"=1;domain=."+s;t.cookie=a,o.test(t.cookie)&&(t.cookie=a+";expires=Thu, 01 Jan 1970 00:00:00 GMT",lt=s)}return lt}(e);if(!n){var r=function(e){var t=e.match(ct);return t?t[0]:""}(e);r!==n&&ie.info("Warning: cookie subdomain discovery mismatch",r,n),n=r}return n?"; domain=."+n:""}return""}(X.location.hostname,r);if(n){var u=new Date;u.setTime(u.getTime()+24*n*60*60*1e3),o="; expires="+u.toUTCString()}i&&(s="; secure");var l=e+"="+encodeURIComponent(JSON.stringify(t))+o+"; SameSite=Lax; path=/"+a+s;return l.length>3686.4&&ie.warn("cookieStore warning: large cookie, len="+l.length),X.cookie=l,l}catch(e){return}},remove:function(e,t){try{ft.set(e,"",-1,t)}catch(e){return}}},ht=null,pt={is_supported:function(){if(!j(ht))return ht;var e=!0;if(B(z))e=!1;else try{var t="__mplssupport__";pt.set(t,"xyz"),'"xyz"'!==pt.get(t)&&(e=!1),pt.remove(t)}catch(t){e=!1}return e||ie.error("localStorage unsupported; falling back to cookie store"),ht=e,e},error:function(e){ie.error("localStorage error: "+e)},get:function(e){try{return null==z?void 0:z.localStorage.getItem(e)}catch(e){pt.error(e)}return null},parse:function(e){try{return JSON.parse(pt.get(e))||{}}catch(e){}return null},set:function(e,t){try{null==z||z.localStorage.setItem(e,JSON.stringify(t))}catch(e){pt.error(e)}},remove:function(e){try{null==z||z.localStorage.removeItem(e)}catch(e){pt.error(e)}}},gt=["distinct_id",Ce,Oe,Ve],vt=m(m({},pt),{},{parse:function(e){try{var t={};try{t=ft.parse(e)||{}}catch(e){}var n=le(t,JSON.parse(pt.get(e)||"{}"));return pt.set(e,n),n}catch(e){}return null},set:function(e,t,n,r,i){try{pt.set(e,t);var o={};gt.forEach((function(e){t[e]&&(o[e]=t[e])})),Object.keys(o).length&&ft.set(e,o,n,r,i)}catch(e){pt.error(e)}},remove:function(e,t){try{null==z||z.localStorage.removeItem(e),ft.remove(e,t)}catch(e){pt.error(e)}}}),mt={},_t={is_supported:function(){return!0},error:function(e){ie.error("memoryStorage error: "+e)},get:function(e){return mt[e]||null},parse:function(e){return mt[e]||null},set:function(e,t){mt[e]=t},remove:function(e){delete mt[e]}},yt=null,bt={is_supported:function(){if(!j(yt))return yt;if(yt=!0,B(z))yt=!1;else try{var e="__support__";bt.set(e,"xyz"),'"xyz"'!==bt.get(e)&&(yt=!1),bt.remove(e)}catch(e){yt=!1}return yt},error:function(e){ie.error("sessionStorage error: ",e)},get:function(e){try{return null==z?void 0:z.sessionStorage.getItem(e)}catch(e){bt.error(e)}return null},parse:function(e){try{return JSON.parse(bt.get(e))||null}catch(e){}return null},set:function(e,t){try{null==z||z.sessionStorage.setItem(e,JSON.stringify(t))}catch(e){bt.error(e)}},remove:function(e){try{null==z||z.sessionStorage.removeItem(e)}catch(e){bt.error(e)}}},wt=["localhost","127.0.0.1"],kt=function(e){var t=null==X?void 0:X.createElement("a");return B(t)?null:(t.href=e,t)},At=function(e,t){for(var n,r=((e.split("#")[0]||"").split("?")[1]||"").split("&"),i=0;i<r.length;i++){var o=r[i].split("=");if(o[0]===t){n=o;break}}if(!O(n)||n.length<2)return"";var s=n[1];try{s=decodeURIComponent(s)}catch(e){ie.error("Skipping decoding for malformed query param: "+s)}return s.replace(/\+/g," ")},Et=function(e,t){var n=e.match(new RegExp(t+"=([^&]*)"));return n?n[1]:null},xt="Mobile",St="iOS",It="Android",Ft="Tablet",Pt=It+" "+Ft,Rt="iPad",Tt="Apple",Ct=Tt+" Watch",Ot="Safari",Mt="BlackBerry",Lt="Samsung",$t=Lt+"Browser",Bt=Lt+" Internet",Nt="Chrome",jt=Nt+" OS",Dt=Nt+" "+St,qt="Internet Explorer",Ut=qt+" "+xt,Ht="Opera",zt=Ht+" Mini",Wt="Edge",Gt="Microsoft "+Wt,Vt="Firefox",Yt=Vt+" "+St,Qt="Nintendo",Xt="PlayStation",Kt="Xbox",Jt=It+" "+xt,Zt=xt+" "+Ot,en="Windows",tn=en+" Phone",nn="Nokia",rn="Ouya",on="Generic",sn=on+" "+xt.toLowerCase(),an=on+" "+Ft.toLowerCase(),un="Konqueror",ln="(\\d+(\\.\\d+)?)",cn=new RegExp("Version/"+ln),dn=new RegExp(Kt,"i"),fn=new RegExp(Xt+" \\w+","i"),hn=new RegExp(Qt+" \\w+","i"),pn=new RegExp(Mt+"|PlayBook|BB10","i"),gn={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},vn=function(e,t){return t=t||"",ce(e," OPR/")&&ce(e,"Mini")?zt:ce(e," OPR/")?Ht:pn.test(e)?Mt:ce(e,"IE"+xt)||ce(e,"WPDesktop")?Ut:ce(e,$t)?Bt:ce(e,Wt)||ce(e,"Edg/")?Gt:ce(e,"FBIOS")?"Facebook "+xt:ce(e,"UCWEB")||ce(e,"UCBrowser")?"UC Browser":ce(e,"CriOS")?Dt:ce(e,"CrMo")?Nt:ce(e,It)&&ce(e,Ot)?Jt:ce(e,Nt)?Nt:ce(e,"FxiOS")?Yt:ce(e.toLowerCase(),un.toLowerCase())?un:function(e,t){return t&&ce(t,Tt)||function(e){return ce(e,Ot)&&!ce(e,Nt)&&!ce(e,It)}(e)}(e,t)?ce(e,xt)?Zt:Ot:ce(e,Vt)?Vt:ce(e,"MSIE")||ce(e,"Trident/")?qt:ce(e,"Gecko")?Vt:""},mn=(k(dt={},Ut,[new RegExp("rv:"+ln)]),k(dt,Gt,[new RegExp(Wt+"?\\/"+ln)]),k(dt,Nt,[new RegExp("("+Nt+"|CrMo)\\/"+ln)]),k(dt,Dt,[new RegExp("CriOS\\/"+ln)]),k(dt,"UC Browser",[new RegExp("(UCBrowser|UCWEB)\\/"+ln)]),k(dt,Ot,[cn]),k(dt,Zt,[cn]),k(dt,Ht,[new RegExp("(Opera|OPR)\\/"+ln)]),k(dt,Vt,[new RegExp(Vt+"\\/"+ln)]),k(dt,Yt,[new RegExp("FxiOS\\/"+ln)]),k(dt,un,[new RegExp("Konqueror[:/]?"+ln,"i")]),k(dt,Mt,[new RegExp(Mt+" "+ln),cn]),k(dt,Jt,[new RegExp("android\\s"+ln,"i")]),k(dt,Bt,[new RegExp($t+"\\/"+ln)]),k(dt,qt,[new RegExp("(rv:|MSIE )"+ln)]),k(dt,"Mozilla",[new RegExp("rv:"+ln)]),dt),_n=[[new RegExp(Kt+"; "+Kt+" (.*?)[);]","i"),function(e){return[Kt,e&&e[1]||""]}],[new RegExp(Qt,"i"),[Qt,""]],[new RegExp(Xt,"i"),[Xt,""]],[pn,[Mt,""]],[new RegExp(en,"i"),function(e,t){if(/Phone/.test(t)||/WPDesktop/.test(t))return[tn,""];if(new RegExp(xt).test(t)&&!/IEMobile\b/.test(t))return[en+" "+xt,""];var n=/Windows NT ([0-9.]+)/i.exec(t);if(n&&n[1]){var r=n[1],i=gn[r]||"";return/arm/i.test(t)&&(i="RT"),[en,i]}return[en,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,function(e){if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[St,t.join(".")]}return[St,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,function(e){var t="";return e&&e.length>=3&&(t=B(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+It+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+It+")","i"),function(e){if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[It,t.join(".")]}return[It,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,function(e){var t=["Mac OS X",""];if(e&&e[1]){var n=[e[1],e[2],e[3]||"0"];t[1]=n.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[jt,""]],[/Linux|debian/i,["Linux",""]]],yn=function(e){return hn.test(e)?Qt:fn.test(e)?Xt:dn.test(e)?Kt:new RegExp(rn,"i").test(e)?rn:new RegExp("("+tn+"|WPDesktop)","i").test(e)?tn:/iPad/.test(e)?Rt:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?Ct:pn.test(e)?Mt:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(nn,"i").test(e)?nn:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(xt).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?It:Pt:It:new RegExp("(pda|"+xt+")","i").test(e)?sn:new RegExp(Ft,"i").test(e)&&!new RegExp(Ft+" pc","i").test(e)?an:""},bn="https?://(.*)",wn=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","gad_source","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","mc_cid","igshid","ttclid"],kn={campaignParams:function(e){return X?this._campaignParamsFromUrl(X.URL,e):{}},_campaignParamsFromUrl:function(e,t){var n=wn.concat(t||[]),r={};return ue(n,(function(t){var n=At(e,t);n&&(r[t]=n)})),r},_searchEngine:function(e){return e?0===e.search(bn+"google.([^/?]*)")?"google":0===e.search(bn+"bing.com")?"bing":0===e.search(bn+"yahoo.com")?"yahoo":0===e.search(bn+"duckduckgo.com")?"duckduckgo":null:null},_searchInfoFromReferrer:function(e){var t=kn._searchEngine(e),n="yahoo"!=t?"q":"p",r={};if(!j(t)){r.$search_engine=t;var i=X?At(X.referrer,n):"";i.length&&(r.ph_keyword=i)}return r},searchInfo:function(){var e=null==X?void 0:X.referrer;return e?this._searchInfoFromReferrer(e):{}},browser:vn,browserVersion:function(e,t){var n=vn(e,t),r=mn[n];if(B(r))return null;for(var i=0;i<r.length;i++){var o=r[i],s=e.match(o);if(s)return parseFloat(s[s.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},os:function(e){for(var t=0;t<_n.length;t++){var n=A(_n[t],2),r=n[0],i=n[1],o=r.exec(e),s=o&&(M(i)?i(o,e):i);if(s)return s}return["",""]},device:yn,deviceType:function(e){var t=yn(e);return t===Rt||t===Pt||"Kobo"===t||"Kindle Fire"===t||t===an?Ft:t===Qt||t===Kt||t===Xt||t===rn?"Console":t===Ct?"Wearable":t?xt:"Desktop"},referrer:function(){return(null==X?void 0:X.referrer)||"$direct"},referringDomain:function(){var e;return null!=X&&X.referrer&&(null===(e=kt(X.referrer))||void 0===e?void 0:e.host)||"$direct"},referrerInfo:function(){return{$referrer:this.referrer(),$referring_domain:this.referringDomain()}},initialPersonInfo:function(){return{r:this.referrer(),u:null==K?void 0:K.href}},initialPersonPropsFromInfo:function(e){var t,n=e.r,r=e.u,i={$initial_referrer:n,$initial_referring_domain:null==n?void 0:"$direct"==n?"$direct":null===(t=kt(n))||void 0===t?void 0:t.host};if(r){i.$initial_current_url=r;var o=kt(r);i.$initial_host=null==o?void 0:o.host,i.$initial_pathname=null==o?void 0:o.pathname,ue(this._campaignParamsFromUrl(r),(function(e,t){i["$initial_"+ve(t)]=e}))}return n&&ue(this._searchInfoFromReferrer(n),(function(e,t){i["$initial_"+ve(t)]=e})),i},properties:function(){if(!te)return{};var e=A(kn.os(te),2),t=e[0],n=e[1];return le(ge({$os:t,$os_version:n,$browser:kn.browser(te,navigator.vendor),$device:kn.device(te),$device_type:kn.deviceType(te)}),{$current_url:null==K?void 0:K.href,$host:null==K?void 0:K.host,$pathname:null==K?void 0:K.pathname,$raw_user_agent:te.length>1e3?te.substring(0,997)+"...":te,$browser_version:kn.browserVersion(te,navigator.vendor),$browser_language:kn.browserLanguage(),$screen_height:null==z?void 0:z.screen.height,$screen_width:null==z?void 0:z.screen.width,$viewport_height:null==z?void 0:z.innerHeight,$viewport_width:null==z?void 0:z.innerWidth,$lib:"web",$lib_version:F.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:fe()/1e3})},people_properties:function(){if(!te)return{};var e=A(kn.os(te),2),t=e[0],n=e[1];return le(ge({$os:t,$os_version:n,$browser:kn.browser(te,navigator.vendor)}),{$browser_version:kn.browserVersion(te,navigator.vendor)})}},An=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"],En=function(){function e(t){y(this,e),this.config=t,this.props={},this.campaign_params_saved=!1,this.name=function(e){var t="";return e.token&&(t=e.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),e.persistence_name?"ph_"+e.persistence_name:"ph_"+t+"_posthog"}(t),this.storage=this.buildStorage(t),this.load(),this.update_config(t,t),this.save()}return w(e,[{key:"buildStorage",value:function(e){-1===An.indexOf(e.persistence.toLowerCase())&&(ie.critical("Unknown persistence type "+e.persistence+"; falling back to localStorage+cookie"),e.persistence="localStorage+cookie");var t=e.persistence.toLowerCase();return"localstorage"===t&&pt.is_supported()?pt:"localstorage+cookie"===t&&vt.is_supported()?vt:"sessionstorage"===t&&bt.is_supported()?bt:"memory"===t?_t:"cookie"===t?ft:vt.is_supported()?vt:ft}},{key:"properties",value:function(){var e={};return ue(this.props,(function(t,n){if(n===Me&&L(t))for(var r=Object.keys(t),i=0;i<r.length;i++)e["$feature/".concat(r[i])]=t[r[i]];else s=n,a=!1,(j(o=Qe)?a:Y&&o.indexOf===Y?-1!=o.indexOf(s):(ue(o,(function(e){if(a||(a=e===s))return oe})),a))||(e[n]=t);var o,s,a})),e}},{key:"load",value:function(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=le({},e))}}},{key:"save",value:function(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure)}},{key:"remove",value:function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}},{key:"clear",value:function(){this.remove(),this.props={}}},{key:"register_once",value:function(e,t,n){var r=this;if(L(e)){B(t)&&(t="None"),this.expire_days=B(n)?this.default_expiry:n;var i=!1;if(ue(e,(function(e,n){r.props.hasOwnProperty(n)&&r.props[n]!==t||(r.props[n]=e,i=!0)})),i)return this.save(),!0}return!1}},{key:"register",value:function(e,t){var n=this;if(L(e)){this.expire_days=B(t)?this.default_expiry:t;var r=!1;if(ue(e,(function(t,i){e.hasOwnProperty(i)&&n.props[i]!==t&&(n.props[i]=t,r=!0)})),r)return this.save(),!0}return!1}},{key:"unregister",value:function(e){e in this.props&&(delete this.props[e],this.save())}},{key:"update_campaign_params",value:function(){this.campaign_params_saved||(this.register(kn.campaignParams(this.config.custom_campaign_params)),this.campaign_params_saved=!0)}},{key:"update_search_keyword",value:function(){this.register(kn.searchInfo())}},{key:"update_referrer_info",value:function(){this.register(kn.referrerInfo())}},{key:"set_initial_person_info",value:function(){this.props[ze]||this.props[We]||this.register_once(k({},Ge,kn.initialPersonInfo()),void 0)}},{key:"get_referrer_info",value:function(){return ge({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}},{key:"get_initial_props",value:function(){var e=this,t={};ue([We,ze],(function(n){var r=e.props[n];r&&ue(r,(function(e,n){t["$initial_"+ve(n)]=e}))}));var n=this.props[Ge];if(n){var r=kn.initialPersonPropsFromInfo(n);le(t,r)}return t}},{key:"safe_merge",value:function(e){return ue(this.props,(function(t,n){n in e||(e[n]=t)})),e}},{key:"update_config",value:function(e,t){if(this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie),e.persistence!==t.persistence){var n=this.buildStorage(e),r=this.props;this.clear(),this.storage=n,this.props=r,this.save()}}},{key:"set_disabled",value:function(e){this.disabled=e,this.disabled?this.remove():this.save()}},{key:"set_cross_subdomain",value:function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())}},{key:"get_cross_subdomain",value:function(){return!!this.cross_subdomain}},{key:"set_secure",value:function(e){e!==this.secure&&(this.secure=e,this.remove(),this.save())}},{key:"set_event_timer",value:function(e,t){var n=this.props[Ae]||{};n[e]=t,this.props[Ae]=n,this.save()}},{key:"remove_event_timer",value:function(e){var t=(this.props[Ae]||{})[e];return B(t)||(delete this.props[Ae][e],this.save()),t}},{key:"get_property",value:function(e){return this.props[e]}},{key:"set_property",value:function(e,t){this.props[e]=t,this.save()}}]),e}(),xn=2,Sn=4,In=function(e){return e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e}(In||{});function Fn(e){return e?se(e).split(/\s+/):[]}function Pn(e){var t="";switch(_(e.className)){case"string":t=e.className;break;case"object":t=("baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return Fn(t)}function Rn(e){return D(e)?null:se(e).split(/(\s+)/).filter((function(e){return Vn(e)})).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function Tn(e){var t="";return jn(e)&&!Dn(e)&&e.childNodes&&e.childNodes.length&&ue(e.childNodes,(function(e){var n;Mn(e)&&e.textContent&&(t+=null!==(n=Rn(e.textContent))&&void 0!==n?n:"")})),se(t)}function Cn(e){return!!e&&1===e.nodeType}function On(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function Mn(e){return!!e&&3===e.nodeType}function Ln(e){return!!e&&11===e.nodeType}var $n=["a","button","form","input","select","textarea","label"];function Bn(e){var t=e.parentNode;return!(!t||!Cn(t))&&t}function Nn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(!z||!e||On(e,"html")||!Cn(e))return!1;if(null!=n&&n.url_allowlist){var o=z.location.href,s=n.url_allowlist;if(s&&!s.some((function(e){return o.match(e)})))return!1}if(null!=n&&n.dom_event_allowlist){var a=n.dom_event_allowlist;if(a&&!a.some((function(e){return t.type===e})))return!1}for(var u=!1,l=[e],c=!0,d=e;d.parentNode&&!On(d,"body");)if(Ln(d.parentNode))l.push(d.parentNode.host),d=d.parentNode.host;else{if(!(c=Bn(d)))break;if(r||$n.indexOf(c.tagName.toLowerCase())>-1)u=!0;else{var f=z.getComputedStyle(c);f&&"pointer"===f.getPropertyValue("cursor")&&(u=!0)}l.push(c),d=c}if(!function(e,t){var n=null==t?void 0:t.element_allowlist;if(B(n))return!0;var r,i=I(e);try{var o=function(){var e=r.value;if(n.some((function(t){return e.tagName.toLowerCase()===t})))return{v:!0}};for(i.s();!(r=i.n()).done;){var s=o();if("object"===_(s))return s.v}}catch(e){i.e(e)}finally{i.f()}return!1}(l,n))return!1;if(!function(e,t){var n=null==t?void 0:t.css_selector_allowlist;if(B(n))return!0;var r,i=I(e);try{var o=function(){var e=r.value;if(n.some((function(t){return e.matches(t)})))return{v:!0}};for(i.s();!(r=i.n()).done;){var s=o();if("object"===_(s))return s.v}}catch(e){i.e(e)}finally{i.f()}return!1}(l,n))return!1;var h=z.getComputedStyle(e);if(h&&"pointer"===h.getPropertyValue("cursor")&&"click"===t.type)return!0;var p=e.tagName.toLowerCase();switch(p){case"html":return!1;case"form":return(i||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(t.type)>=0;default:return u?(i||["click"]).indexOf(t.type)>=0:(i||["click"]).indexOf(t.type)>=0&&($n.indexOf(p)>-1||"true"===e.getAttribute("contenteditable"))}}function jn(e){for(var t=e;t.parentNode&&!On(t,"body");t=t.parentNode){var n=Pn(t);if(ce(n,"ph-sensitive")||ce(n,"ph-no-capture"))return!1}if(ce(Pn(e),"ph-include"))return!0;var r=e.type||"";if(N(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";return!N(i)||!/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,""))}function Dn(e){return!!(On(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||On(e,"select")||On(e,"textarea")||"true"===e.getAttribute("contenteditable"))}var qn="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",Un=new RegExp("^(?:".concat(qn,")$")),Hn=new RegExp(qn),zn="\\d{3}-?\\d{2}-?\\d{4}",Wn=new RegExp("^(".concat(zn,")$")),Gn=new RegExp("(".concat(zn,")"));function Vn(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(D(e))return!1;if(N(e)){if(e=se(e),(t?Un:Hn).test((e||"").replace(/[- ]/g,"")))return!1;if((t?Wn:Gn).test(e))return!1}return!0}function Yn(e){var t=Tn(e);return Vn(t="".concat(t," ").concat(Qn(e)).trim())?t:""}function Qn(e){var t="";return e&&e.childNodes&&e.childNodes.length&&ue(e.childNodes,(function(e){var n;if(e&&"span"===(null===(n=e.tagName)||void 0===n?void 0:n.toLowerCase()))try{var r=Tn(e);t="".concat(t," ").concat(r).trim(),e.childNodes&&e.childNodes.length&&(t="".concat(t," ").concat(Qn(e)).trim())}catch(e){ie.error(e)}})),t}function Xn(e){return function(e){var t=e.map((function(e){var t,n,r="";if(e.tag_name&&(r+=e.tag_name),e.attr_class){e.attr_class.sort();var i,o=I(e.attr_class);try{for(o.s();!(i=o.n()).done;){var s=i.value;r+=".".concat(s.replace(/"/g,""))}}catch(e){o.e(e)}finally{o.f()}}var a=m(m(m(m({},e.text?{text:e.text}:{}),{},{"nth-child":null!==(t=e.nth_child)&&void 0!==t?t:0,"nth-of-type":null!==(n=e.nth_of_type)&&void 0!==n?n:0},e.href?{href:e.href}:{}),e.attr_id?{attr_id:e.attr_id}:{}),e.attributes),u={};return de(a).sort((function(e,t){var n=A(e,1)[0],r=A(t,1)[0];return n.localeCompare(r)})).forEach((function(e){var t=A(e,2),n=t[0],r=t[1];return u[Kn(n.toString())]=Kn(r.toString())})),(r+=":")+de(a).map((function(e){var t=A(e,2),n=t[0],r=t[1];return"".concat(n,'="').concat(r,'"')})).join("")}));return t.join(";")}(function(e){return e.map((function(e){var t,n,r={text:null===(t=e.$el_text)||void 0===t?void 0:t.slice(0,400),tag_name:e.tag_name,href:null===(n=e.attr__href)||void 0===n?void 0:n.slice(0,2048),attr_class:Jn(e),attr_id:e.attr__id,nth_child:e.nth_child,nth_of_type:e.nth_of_type,attributes:{}};return de(e).filter((function(e){return 0===A(e,1)[0].indexOf("attr__")})).forEach((function(e){var t=A(e,2),n=t[0],i=t[1];return r.attributes[n]=i})),r}))}(e))}function Kn(e){return e.replace(/"|\\"/g,'\\"')}function Jn(e){var t=e.attr__class;return t?O(t)?t:Fn(t):void 0}var Zn="[SessionRecording]",er="redacted",tr={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:function(e){return e},recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6},nr=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],rr=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],ir=["/s/","/e/","/i/"];function or(e,t,n,r){if(D(e))return e;var i=(null==t?void 0:t["content-length"])||function(e){return new Blob([e]).size}(e);return N(i)&&(i=parseInt(i)),i>n?Zn+" ".concat(r," body too large to record (").concat(i," bytes)"):e}function sr(e,t){if(D(e))return e;var n=e;return Vn(n,!1)||(n=Zn+" "+t+" body "+er),ue(rr,(function(e){var r,i;null!==(r=n)&&void 0!==r&&r.length&&-1!==(null===(i=n)||void 0===i?void 0:i.indexOf(e))&&(n=Zn+" "+t+" body "+er+" as might contain: "+e)})),n}var ar,ur=w((function e(t){var n,r,i=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y(this,e),k(this,"bucketSize",100),k(this,"refillRate",10),k(this,"mutationBuckets",{}),k(this,"loggedTracker",{}),k(this,"refillBuckets",(function(){Object.keys(i.mutationBuckets).forEach((function(e){i.mutationBuckets[e]=i.mutationBuckets[e]+i.refillRate,i.mutationBuckets[e]>=i.bucketSize&&delete i.mutationBuckets[e]}))})),k(this,"getNodeOrRelevantParent",(function(e){var t=i.rrweb.mirror.getNode(e);if("svg"!==(null==t?void 0:t.nodeName)&&t instanceof Element){var n=t.closest("svg");if(n)return[i.rrweb.mirror.getId(n),n]}return[e,t]})),k(this,"numberOfChanges",(function(e){var t,n,r,i,o,s,a,u;return(null!==(t=null===(n=e.removes)||void 0===n?void 0:n.length)&&void 0!==t?t:0)+(null!==(r=null===(i=e.attributes)||void 0===i?void 0:i.length)&&void 0!==r?r:0)+(null!==(o=null===(s=e.texts)||void 0===s?void 0:s.length)&&void 0!==o?o:0)+(null!==(a=null===(u=e.adds)||void 0===u?void 0:u.length)&&void 0!==a?a:0)})),k(this,"throttleMutations",(function(e){if(3!==e.type||0!==e.data.source)return e;var t=e.data,n=i.numberOfChanges(t);t.attributes&&(t.attributes=t.attributes.filter((function(e){var t,n,r,o=A(i.getNodeOrRelevantParent(e.id),2),s=o[0],a=o[1];return 0!==i.mutationBuckets[s]&&(i.mutationBuckets[s]=null!==(t=i.mutationBuckets[s])&&void 0!==t?t:i.bucketSize,i.mutationBuckets[s]=Math.max(i.mutationBuckets[s]-1,0),0===i.mutationBuckets[s]&&(i.loggedTracker[s]||(i.loggedTracker[s]=!0,null===(n=(r=i.options).onBlockedNode)||void 0===n||n.call(r,s,a))),e)})));var r=i.numberOfChanges(t);return 0!==r||n===r?e:void 0})),this.rrweb=t,this.options=o,this.refillRate=null!==(n=this.options.refillRate)&&void 0!==n?n:this.refillRate,this.bucketSize=null!==(r=this.options.bucketSize)&&void 0!==r?r:this.bucketSize,setInterval((function(){i.refillBuckets()}),1e3)})),lr=3e5,cr=lr;!function(e){e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet"}(ar||(ar={}));var dr=[ar.MouseMove,ar.MouseInteraction,ar.Scroll,ar.ViewportResize,ar.Input,ar.TouchMove,ar.MediaInteraction,ar.Drag],fr=function(){function e(t,n){y(this,e),this.size=0,this.data=[],this.sessionId=t,this.windowId=n}return w(e,[{key:"mostRecentSnapshotTimestamp",get:function(){return this.data.length?this.data[this.data.length-1].timestamp:null}},{key:"add",value:function(e){this.size+=e.$snapshot_bytes,this.data.push(e.$snapshot_data)}}]),e}(),hr=function(e){return{rrwebMethod:e,enqueuedAt:Date.now(),attempt:1}},pr="[SessionRecording]";var gr,vr=function(){function e(t){var n=this;if(y(this,e),k(this,"queuedRRWebEvents",[]),k(this,"isIdle",!1),k(this,"_linkedFlagSeen",!1),k(this,"_lastActivityTimestamp",Date.now()),k(this,"_linkedFlag",null),k(this,"_forceAllowLocalhostNetworkCapture",!1),k(this,"_samplingSessionListener",null),this.instance=t,this._captureStarted=!1,this._endpoint="/s/",this.stopRrweb=void 0,this.receivedDecide=!1,null==z||z.addEventListener("beforeunload",(function(){n._flushBuffer()})),null==z||z.addEventListener("offline",(function(){n._tryAddCustomEvent("browser offline",{})})),null==z||z.addEventListener("online",(function(){n._tryAddCustomEvent("browser online",{})})),null==z||z.addEventListener("visibilitychange",(function(){if(null!=X&&X.visibilityState){var e="window "+X.visibilityState;n._tryAddCustomEvent(e,{})}})),!this.instance.sessionManager)throw ie.error(pr+" started without valid sessionManager"),new Error(pr+" started without valid sessionManager. This is a bug.");var r=this.sessionManager.checkAndGetSessionAndWindowId(),i=r.sessionId,o=r.windowId;this.sessionId=i,this.windowId=o,this.buffer=new fr(this.sessionId,this.windowId),this._setupSampling()}return w(e,[{key:"rrwebRecord",get:function(){var e;return null==ne||null===(e=ne.rrweb)||void 0===e?void 0:e.record}},{key:"started",get:function(){return this._captureStarted}},{key:"sessionManager",get:function(){if(!this.instance.sessionManager)throw new Error(pr+" started without valid sessionManager. This is a bug.");return this.instance.sessionManager}},{key:"isSampled",get:function(){var e=this.instance.get_property(Oe);return U(e)?e:null}},{key:"sessionDuration",get:function(){var e=this.buffer.mostRecentSnapshotTimestamp,t=this.sessionManager.checkAndGetSessionAndWindowId(!0).sessionStartTimestamp;return e?e-t:null}},{key:"isRecordingEnabled",get:function(){var e=!!this.instance.get_property(Se),t=!this.instance.config.disable_session_recording;return z&&e&&t}},{key:"isConsoleLogCaptureEnabled",get:function(){var e=!!this.instance.get_property(Ie),t=this.instance.config.enable_recording_console_log;return null!=t?t:e}},{key:"canvasRecording",get:function(){var e=this.instance.get_property(Pe);return e&&e.fps&&e.quality?{enabled:e.enabled,fps:e.fps,quality:e.quality}:void 0}},{key:"networkPayloadCapture",get:function(){var e,t,n=this.instance.get_property(Fe),r={recordHeaders:null===(e=this.instance.config.session_recording)||void 0===e?void 0:e.recordHeaders,recordBody:null===(t=this.instance.config.session_recording)||void 0===t?void 0:t.recordBody},i=(null==r?void 0:r.recordHeaders)||(null==n?void 0:n.recordHeaders),o=(null==r?void 0:r.recordBody)||(null==n?void 0:n.recordBody),s=this.instance.config.capture_performance||(null==n?void 0:n.capturePerformance);return i||o||s?{recordHeaders:i,recordBody:o,recordPerformance:s}:void 0}},{key:"sampleRate",get:function(){var e=this.instance.get_property(Re);return q(e)?e:null}},{key:"minimumDuration",get:function(){var e=this.instance.get_property(Te);return q(e)?e:null}},{key:"status",get:function(){return this.receivedDecide?this.isRecordingEnabled?D(this._linkedFlag)||this._linkedFlagSeen?U(this.isSampled)?this.isSampled?"sampled":"disabled":"active":"buffering":"disabled":"buffering"}},{key:"startIfEnabledOrStop",value:function(){this.isRecordingEnabled?(this._startCapture(),ie.info(pr+" started")):(this.stopRecording(),this.clearBuffer())}},{key:"stopRecording",value:function(){this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1,ie.info(pr+" stopped"))}},{key:"makeSamplingDecision",value:function(e){var t,n=this.sessionId!==e,r=this.sampleRate;if(q(r)){var i,o=this.isSampled,s=n||!U(o);!(i=s?Math.random()<r:o)&&s&&ie.warn(pr+" Sample rate (".concat(r,") has determined that this sessionId (").concat(e,") will not be sent to the server.")),this._tryAddCustomEvent("samplingDecisionMade",{sampleRate:r}),null===(t=this.instance.persistence)||void 0===t||t.register(k({},Oe,i))}else{var a;null===(a=this.instance.persistence)||void 0===a||a.register(k({},Oe,null))}}},{key:"afterDecideResponse",value:function(e){var t,n,r,i=this;if(this._persistDecideResponse(e),this._linkedFlag=(null===(t=e.sessionRecording)||void 0===t?void 0:t.linkedFlag)||null,null!==(n=e.sessionRecording)&&void 0!==n&&n.endpoint&&(this._endpoint=null===(r=e.sessionRecording)||void 0===r?void 0:r.endpoint),this._setupSampling(),!D(this._linkedFlag)){var o=N(this._linkedFlag)?this._linkedFlag:this._linkedFlag.flag,s=N(this._linkedFlag)?null:this._linkedFlag.variant;this.instance.onFeatureFlags((function(e,t){var n=L(t)&&o in t,r=s?t[o]===s:n;if(r){var a={linkedFlag:o,linkedVariant:s},u="linked flag matched";ie.info(pr+" "+u,a),i._tryAddCustomEvent(u,a)}i._linkedFlagSeen=r}))}this.receivedDecide=!0,this.startIfEnabledOrStop()}},{key:"_setupSampling",value:function(){var e=this;q(this.sampleRate)&&j(this._samplingSessionListener)&&(this._samplingSessionListener=this.sessionManager.onSessionId((function(t){e.makeSamplingDecision(t)})))}},{key:"_persistDecideResponse",value:function(e){if(this.instance.persistence){var t=this.instance.persistence,n=function(){var n,r,i,o,s,a,u,l,c=null===(n=e.sessionRecording)||void 0===n?void 0:n.sampleRate,d=D(c)?null:parseFloat(c),f=null===(r=e.sessionRecording)||void 0===r?void 0:r.minimumDurationMilliseconds;t.register((k(l={},Se,!!e.sessionRecording),k(l,Ie,null===(i=e.sessionRecording)||void 0===i?void 0:i.consoleLogRecordingEnabled),k(l,Fe,m({capturePerformance:e.capturePerformance},null===(o=e.sessionRecording)||void 0===o?void 0:o.networkPayloadCapture)),k(l,Pe,{enabled:null===(s=e.sessionRecording)||void 0===s?void 0:s.recordCanvas,fps:null===(a=e.sessionRecording)||void 0===a?void 0:a.canvasFps,quality:null===(u=e.sessionRecording)||void 0===u?void 0:u.canvasQuality}),k(l,Re,d),k(l,Te,B(f)?null:f),l))};n(),this.sessionManager.onSessionId(n)}}},{key:"log",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"log";null===(t=this.instance.sessionRecording)||void 0===t||t.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:n,trace:[],payload:[JSON.stringify(e)]}},timestamp:fe()})}},{key:"_startCapture",value:function(){var e=this;B(Object.assign)||this._captureStarted||this.instance.config.disable_session_recording||this.instance.consent.isOptedOut()||(this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId(),this.rrwebRecord?this._onScriptLoaded():ye(this.instance.requestRouter.endpointFor("assets","/static/recorder.js?v=".concat(F.LIB_VERSION)),(function(t){if(t)return ie.error(pr+" could not load recorder.js",t);e._onScriptLoaded()})))}},{key:"isInteractiveEvent",value:function(e){var t;return 3===e.type&&-1!==dr.indexOf(null===(t=e.data)||void 0===t?void 0:t.source)}},{key:"_updateWindowAndSessionIds",value:function(e){var t=this.isInteractiveEvent(e);t||this.isIdle||e.timestamp-this._lastActivityTimestamp>cr&&(this.isIdle=!0,this._tryAddCustomEvent("sessionIdle",{reason:"user inactivity",timeSinceLastActive:e.timestamp-this._lastActivityTimestamp,threshold:cr}),clearTimeout(this._fullSnapshotTimer),this._flushBuffer());var n=!1;if(t&&(this._lastActivityTimestamp=e.timestamp,this.isIdle&&(this.isIdle=!1,this._tryAddCustomEvent("sessionNoLongerIdle",{reason:"user activity",type:e.type}),n=!0)),!this.isIdle){var r=this.sessionManager.checkAndGetSessionAndWindowId(!t,e.timestamp),i=r.windowId,o=r.sessionId,s=this.sessionId!==o,a=this.windowId!==i;this.windowId=i,this.sessionId=o,(n||-1===[xn,Sn].indexOf(e.type)&&(a||s||B(this._fullSnapshotTimer)))&&this._tryTakeFullSnapshot()}}},{key:"_tryRRWebMethod",value:function(e){try{return e.rrwebMethod(),!0}catch(t){return this.queuedRRWebEvents.length<10?this.queuedRRWebEvents.push({enqueuedAt:e.enqueuedAt||Date.now(),attempt:e.attempt++,rrwebMethod:e.rrwebMethod}):ie.warn(pr+" could not emit queued rrweb event.",t,e),!1}}},{key:"_tryAddCustomEvent",value:function(e,t){var n=this;return this._tryRRWebMethod(hr((function(){return n.rrwebRecord.addCustomEvent(e,t)})))}},{key:"_tryTakeFullSnapshot",value:function(){var e=this;return this._tryRRWebMethod(hr((function(){return e.rrwebRecord.takeFullSnapshot()})))}},{key:"_onScriptLoaded",value:function(){for(var e,t=this,n={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},r=this.instance.config.session_recording,i=0,o=Object.entries(r||{});i<o.length;i++){var s=A(o[i],2),a=s[0],u=s[1];a in n&&(n[a]=u)}if(this.canvasRecording&&this.canvasRecording.enabled&&(n.recordCanvas=!0,n.sampling={canvas:this.canvasRecording.fps},n.dataURLOptions={type:"image/webp",quality:this.canvasRecording.quality}),this.rrwebRecord){this.mutationRateLimiter=null!==(e=this.mutationRateLimiter)&&void 0!==e?e:new ur(this.rrwebRecord,{onBlockedNode:function(e,n){var r="Too many mutations on node '".concat(e,"'. Rate limiting. This could be due to SVG animations or something similar");ie.info(r,{node:n}),t.log(pr+" "+r,"warn")}});var l=this._gatherRRWebPlugins();this.stopRrweb=this.rrwebRecord(m({emit:function(e){t.onRRwebEmit(e)},plugins:l},n)),this.instance._addCaptureHook((function(e){try{if("$pageview"===e){var n=z?t._maskUrl(z.location.href):"";if(!n)return;t._tryAddCustomEvent("$pageview",{href:n}),t._tryTakeFullSnapshot()}}catch(e){ie.error("Could not add $pageview to rrweb session",e)}})),this._lastActivityTimestamp=Date.now(),this.isIdle=!1,this._tryAddCustomEvent("$session_options",{sessionRecordingOptions:n,activePlugins:l.map((function(e){return null==e?void 0:e.name}))}),this._tryAddCustomEvent("$posthog_config",{config:this.instance.config})}else ie.error(pr+"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}},{key:"_scheduleFullSnapshot",value:function(){var e=this;this._fullSnapshotTimer&&clearInterval(this._fullSnapshotTimer),this._fullSnapshotTimer=setInterval((function(){e._tryTakeFullSnapshot()}),lr)}},{key:"_gatherRRWebPlugins",value:function(){var e=[];return ne.rrwebConsoleRecord&&this.isConsoleLogCaptureEnabled&&e.push(ne.rrwebConsoleRecord.getRecordConsolePlugin()),this.networkPayloadCapture&&M(ne.getRecordNetworkPlugin)&&(!wt.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?e.push(ne.getRecordNetworkPlugin(function(e,t){var n,r,i,o={payloadSizeLimitBytes:tr.payloadSizeLimitBytes,performanceEntryTypeToObserve:E(tr.performanceEntryTypeToObserve)},s=!1!==e.session_recording.recordHeaders&&t.recordHeaders,a=!1!==e.session_recording.recordBody&&t.recordBody,u=!1!==e.capture_performance&&t.recordPerformance,l=(n=o,i=Math.min(1e6,null!==(r=n.payloadSizeLimitBytes)&&void 0!==r?r:1e6),function(e){return null!=e&&e.requestBody&&(e.requestBody=or(e.requestBody,e.requestHeaders,i,"Request")),null!=e&&e.responseBody&&(e.responseBody=or(e.responseBody,e.responseHeaders,i,"Response")),e}),c=function(e){return l(function(e){var t=kt(e.name);if(!(t&&t.pathname&&ir.some((function(e){return 0===t.pathname.indexOf(e)}))))return e}((n=(t=e).requestHeaders,D(n)||ue(Object.keys(null!=n?n:{}),(function(e){nr.includes(e.toLowerCase())&&(n[e]=er)})),t)));var t,n},d=M(e.session_recording.maskNetworkRequestFn);return d&&M(e.session_recording.maskCapturedNetworkRequestFn)&&ie.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),d&&(e.session_recording.maskCapturedNetworkRequestFn=function(t){var n=e.session_recording.maskNetworkRequestFn({url:t.name});return m(m({},t),{},{name:null==n?void 0:n.url})}),o.maskRequestFn=M(e.session_recording.maskCapturedNetworkRequestFn)?function(t){var n,r,i,o=c(t);return o&&null!==(n=null===(r=(i=e.session_recording).maskCapturedNetworkRequestFn)||void 0===r?void 0:r.call(i,o))&&void 0!==n?n:void 0}:function(e){return function(e){if(!B(e))return e.requestBody=sr(e.requestBody,"Request"),e.responseBody=sr(e.responseBody,"Response"),e}(c(e))},m(m(m({},tr),o),{},{recordHeaders:s,recordBody:a,recordPerformance:u,recordInitialRequests:u})}(this.instance.config,this.networkPayloadCapture))):ie.info(pr+" NetworkCapture not started because we are on localhost.")),e}},{key:"onRRwebEmit",value:function(e){if(this._processQueuedEvents(),e&&L(e)){if(e.type===In.Meta){var t=this._maskUrl(e.data.href);if(this._lastHref=t,!t)return;e.data.href=t}else this._pageViewFallBack();e.type===In.FullSnapshot&&this._scheduleFullSnapshot();var n=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(e):e;if(n){var r=function(e){var t=e;if(t&&L(t)&&6===t.type&&L(t.data)&&"rrweb/console@1"===t.data.plugin){t.data.payload.payload.length>10&&(t.data.payload.payload=t.data.payload.payload.slice(0,10),t.data.payload.payload.push("...[truncated]"));for(var n=[],r=0;r<t.data.payload.payload.length;r++)t.data.payload.payload[r]&&t.data.payload.payload[r].length>2e3?n.push(t.data.payload.payload[r].slice(0,2e3)+"...[truncated]"):n.push(t.data.payload.payload[r]);return t.data.payload.payload=n,e}return e}(n),i=function(e){return JSON.stringify(e,(t=[],function(e,n){if(L(n)){for(;t.length>0&&t.at(-1)!==this;)t.pop();return t.includes(n)?"[Circular]":(t.push(n),n)}return n})).length;var t}(r);if(this._updateWindowAndSessionIds(r),!this.isIdle||r.type===In.Custom){var o={$snapshot_bytes:i,$snapshot_data:r,$session_id:this.sessionId,$window_id:this.windowId};"disabled"!==this.status?this._captureSnapshotBuffered(o):this.clearBuffer()}}}}},{key:"_pageViewFallBack",value:function(){if(!this.instance.config.capture_pageview&&z){var e=this._maskUrl(z.location.href);this._lastHref!==e&&(this._tryAddCustomEvent("$url_changed",{href:e}),this._lastHref=e)}}},{key:"_processQueuedEvents",value:function(){var e=this;if(this.queuedRRWebEvents.length){var t=E(this.queuedRRWebEvents);this.queuedRRWebEvents=[],t.forEach((function(n){Date.now()-n.enqueuedAt>2e3?e._tryAddCustomEvent("rrwebQueueTimeout",{enqueuedAt:n.enqueuedAt,attempt:n.attempt,queueLength:t.length}):e._tryRRWebMethod(n)&&e._tryAddCustomEvent("rrwebQueueSuccess",{enqueuedAt:n.enqueuedAt,attempt:n.attempt,queueLength:t.length})}))}}},{key:"_maskUrl",value:function(e){var t=this.instance.config.session_recording;if(t.maskNetworkRequestFn){var n,r={url:e};return null===(n=r=t.maskNetworkRequestFn(r))||void 0===n?void 0:n.url}return e}},{key:"clearBuffer",value:function(){this.buffer=new fr(this.sessionId,this.windowId)}},{key:"_flushBuffer",value:function(){var e=this;this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var t=this.minimumDuration,n=this.sessionDuration,r=q(n)&&n>=0,i=q(t)&&r&&n<t;"buffering"===this.status||i?this.flushBufferTimer=setTimeout((function(){e._flushBuffer()}),2e3):(this.buffer.data.length>0&&this._captureSnapshot({$snapshot_bytes:this.buffer.size,$snapshot_data:this.buffer.data,$session_id:this.buffer.sessionId,$window_id:this.buffer.windowId}),this.clearBuffer())}},{key:"_captureSnapshotBuffered",value:function(e){var t,n=this,r=2+((null===(t=this.buffer)||void 0===t?void 0:t.data.length)||0);(this.buffer.size+e.$snapshot_bytes+r>943718.4||this.buffer.sessionId!==this.sessionId)&&this._flushBuffer(),this.buffer.add(e),this.flushBufferTimer||(this.flushBufferTimer=setTimeout((function(){n._flushBuffer()}),2e3))}},{key:"_captureSnapshot",value:function(e){this.instance.capture("$snapshot",e,{_url:this.instance.requestRouter.endpointFor("api",this._endpoint),_noTruncate:!0,_batchKey:"recordings",_noHeatmaps:!0})}}]),e}(),mr=function(){function e(t){y(this,e),this.instance=t,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}return w(e,[{key:"call",value:function(){var e=this,t={token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property($e),group_properties:this.instance.get_property(Be),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:t,compression:this.instance.config.disable_compression?void 0:me.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:function(t){return e.parseDecideResponse(t.json)}})}},{key:"parseDecideResponse",value:function(e){var t=this;this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer();var n=!e;if(this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.config.advanced_disable_feature_flags||this.instance.featureFlags.receivedFeatureFlags(null!=e?e:{},n),n)ie.error("Failed to fetch feature flags from PostHog.");else{if(!X||!X.body)return ie.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout((function(){t.parseDecideResponse(e)}),500);this.instance._afterDecideResponse(e);var r=null==z?void 0:z.extendPostHogWithExceptionAutoCapture;if(e.autocaptureExceptions&&e.autocaptureExceptions&&B(r)&&ye(this.instance.requestRouter.endpointFor("assets","/static/exception-autocapture.js"),(function(n){if(n)return ie.error("Could not load exception autocapture script",n);z.extendPostHogWithExceptionAutocapture(t.instance,e)})),e.siteApps)if(this.instance.config.opt_in_site_apps){var i,o=I(e.siteApps);try{var s=function(){var e=i.value,n=e.id,r=e.url,o=t.instance.requestRouter.endpointFor("api",r);ne["__$$ph_site_app_".concat(n)]=t.instance,ye(o,(function(e){e&&ie.error("Error while initializing PostHog app with config id ".concat(n),e)}))};for(o.s();!(i=o.n()).done;)s()}catch(e){o.e(e)}finally{o.f()}}else e.siteApps.length>0&&ie.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}}]),e}(),_r=null!=z&&z.location?Et(z.location.hash,"__posthog")||Et(location.hash,"state"):null,yr="_postHogToolbarParams";!function(e){e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED"}(gr||(gr={}));var br=function(){function e(t){y(this,e),this.instance=t}return w(e,[{key:"setToolbarState",value:function(e){ne.ph_toolbar_state=e}},{key:"getToolbarState",value:function(){var e;return null!==(e=ne.ph_toolbar_state)&&void 0!==e?e:gr.UNINITIALIZED}},{key:"maybeLoadToolbar",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!z||!X)return!1;n=null!==(e=n)&&void 0!==e?e:z.location,i=null!==(t=i)&&void 0!==t?t:z.history;try{if(!r){try{z.localStorage.setItem("test","test"),z.localStorage.removeItem("test")}catch(e){return!1}r=null==z?void 0:z.localStorage}var o,s=_r||Et(n.hash,"__posthog")||Et(n.hash,"state"),a=s?he((function(){return JSON.parse(atob(decodeURIComponent(s)))}))||he((function(){return JSON.parse(decodeURIComponent(s))})):null;return a&&"ph_authorize"===a.action?((o=a).source="url",o&&Object.keys(o).length>0&&(a.desiredHash?n.hash=a.desiredHash:i?i.replaceState(i.state,"",n.pathname+n.search):n.hash="")):((o=JSON.parse(r.getItem(yr)||"{}")).source="localstorage",delete o.userIntent),!(!o.token||this.instance.config.token!==o.token||(this.loadToolbar(o),0))}catch(e){return!1}}},{key:"_callLoadToolbar",value:function(e){(ne.ph_load_toolbar||ne.ph_load_editor)(e,this.instance)}},{key:"loadToolbar",value:function(e){var t=this,n=!(null==X||!X.getElementById(Ye));if(!z||n)return!1;var r="custom"===this.instance.requestRouter.region&&this.instance.config.advanced_disable_toolbar_metrics,i=m(m({token:this.instance.config.token},e),{},{apiURL:this.instance.requestRouter.endpointFor("ui")},r?{instrument:!1}:{});if(z.localStorage.setItem(yr,JSON.stringify(m(m({},i),{},{source:void 0}))),this.getToolbarState()===gr.LOADED)this._callLoadToolbar(i);else if(this.getToolbarState()===gr.UNINITIALIZED){this.setToolbarState(gr.LOADING);var o=3e5,s=Math.floor(Date.now()/o)*o;ye(this.instance.requestRouter.endpointFor("assets","/static/toolbar.js?t=".concat(s)),(function(e){if(e)return ie.error("Failed to load toolbar",e),void t.setToolbarState(gr.UNINITIALIZED);t.setToolbarState(gr.LOADED),t._callLoadToolbar(i)})),_e(z,"turbolinks:load",(function(){t.setToolbarState(gr.UNINITIALIZED),t.loadToolbar(i)}))}return!0}},{key:"_loadEditor",value:function(e){return this.loadToolbar(e)}},{key:"maybeLoadEditor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return this.maybeLoadToolbar(e,t,n)}}]),e}(),wr=function(){function e(t){y(this,e),k(this,"isPaused",!0),k(this,"queue",[]),k(this,"flushTimeoutMs",3e3),this.sendRequest=t}return w(e,[{key:"enqueue",value:function(e){this.queue.push(e),this.flushTimeout||this.setFlushTimeout()}},{key:"unload",value:function(){var e=this;this.clearFlushTimeout();var t=this.queue.length>0?this.formatQueue():{},n=Object.values(t);[].concat(E(n.filter((function(e){return 0===e.url.indexOf("/e")}))),E(n.filter((function(e){return 0!==e.url.indexOf("/e")})))).map((function(t){e.sendRequest(m(m({},t),{},{transport:"sendBeacon"}))}))}},{key:"enable",value:function(){this.isPaused=!1,this.setFlushTimeout()}},{key:"setFlushTimeout",value:function(){var e=this;this.isPaused||(this.flushTimeout=setTimeout((function(){if(e.clearFlushTimeout(),e.queue.length>0){var t=e.formatQueue(),n=function(n){var r=t[n],i=(new Date).getTime();r.data&&O(r.data)&&ue(r.data,(function(e){e.offset=Math.abs(e.timestamp-i),delete e.timestamp})),e.sendRequest(r)};for(var r in t)n(r)}}),this.flushTimeoutMs))}},{key:"clearFlushTimeout",value:function(){clearTimeout(this.flushTimeout),this.flushTimeout=void 0}},{key:"formatQueue",value:function(){var e={};return ue(this.queue,(function(t){var n,r=t,i=(r?r.batchKey:null)||r.url;B(e[i])&&(e[i]=m(m({},r),{},{data:[]})),null===(n=e[i].data)||void 0===n||n.push(r.data)})),this.queue=[],e}}]),e}(),kr=Uint8Array,Ar=Uint16Array,Er=Uint32Array,xr=new kr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Sr=new kr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ir=new kr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Fr=function(e,t){for(var n=new Ar(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new Er(n[30]);for(r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return[n,i]},Pr=Fr(xr,2),Rr=Pr[0],Tr=Pr[1];Rr[28]=258,Tr[258]=28;for(var Cr=Fr(Sr,0)[1],Or=new Ar(32768),Mr=0;Mr<32768;++Mr){var Lr=(43690&Mr)>>>1|(21845&Mr)<<1;Lr=(61680&(Lr=(52428&Lr)>>>2|(13107&Lr)<<2))>>>4|(3855&Lr)<<4,Or[Mr]=((65280&Lr)>>>8|(255&Lr)<<8)>>>1}var $r=function(e,t,n){for(var r=e.length,i=0,o=new Ar(t);i<r;++i)++o[e[i]-1];var s,a=new Ar(t);for(i=0;i<t;++i)a[i]=a[i-1]+o[i-1]<<1;if(n){s=new Ar(1<<t);var u=15-t;for(i=0;i<r;++i)if(e[i])for(var l=i<<4|e[i],c=t-e[i],d=a[e[i]-1]++<<c,f=d|(1<<c)-1;d<=f;++d)s[Or[d]>>>u]=l}else for(s=new Ar(r),i=0;i<r;++i)s[i]=Or[a[e[i]-1]++]>>>15-e[i];return s},Br=new kr(288);for(Mr=0;Mr<144;++Mr)Br[Mr]=8;for(Mr=144;Mr<256;++Mr)Br[Mr]=9;for(Mr=256;Mr<280;++Mr)Br[Mr]=7;for(Mr=280;Mr<288;++Mr)Br[Mr]=8;var Nr=new kr(32);for(Mr=0;Mr<32;++Mr)Nr[Mr]=5;var jr=$r(Br,9,0),Dr=$r(Nr,5,0),qr=function(e){return(e/8|0)+(7&e&&1)},Ur=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var r=new(e instanceof Ar?Ar:e instanceof Er?Er:kr)(n-t);return r.set(e.subarray(t,n)),r},Hr=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8},zr=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},Wr=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,o=n.slice();if(!i)return[new kr(0),0];if(1==i){var s=new kr(n[0].s+1);return s[n[0].s]=1,[s,1]}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var a=n[0],u=n[1],l=0,c=1,d=2;for(n[0]={s:-1,f:a.f+u.f,l:a,r:u};c!=i-1;)a=n[n[l].f<n[d].f?l++:d++],u=n[l!=c&&n[l].f<n[d].f?l++:d++],n[c++]={s:-1,f:a.f+u.f,l:a,r:u};var f=o[0].s;for(r=1;r<i;++r)o[r].s>f&&(f=o[r].s);var h=new Ar(f+1),p=Gr(n[c-1],h,0);if(p>t){r=0;var g=0,v=p-t,m=1<<v;for(o.sort((function(e,t){return h[t.s]-h[e.s]||e.f-t.f}));r<i;++r){var _=o[r].s;if(!(h[_]>t))break;g+=m-(1<<p-h[_]),h[_]=t}for(g>>>=v;g>0;){var y=o[r].s;h[y]<t?g-=1<<t-h[y]++-1:++r}for(;r>=0&&g;--r){var b=o[r].s;h[b]==t&&(--h[b],++g)}p=t}return[new kr(h),p]},Gr=function e(t,n,r){return-1==t.s?Math.max(e(t.l,n,r+1),e(t.r,n,r+1)):n[t.s]=r},Vr=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Ar(++t),r=0,i=e[0],o=1,s=function(e){n[r++]=e},a=1;a<=t;++a)if(e[a]==i&&a!=t)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=e[a]}return[n.subarray(0,r),t]},Yr=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Qr=function(e,t,n){var r=n.length,i=qr(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var o=0;o<r;++o)e[i+o+4]=n[o];return 8*(i+4+r)},Xr=function(e,t,n,r,i,o,s,a,u,l,c){Hr(t,c++,n),++i[256];for(var d=Wr(i,15),f=d[0],h=d[1],p=Wr(o,15),g=p[0],v=p[1],m=Vr(f),_=m[0],y=m[1],b=Vr(g),w=b[0],k=b[1],A=new Ar(19),E=0;E<_.length;++E)A[31&_[E]]++;for(E=0;E<w.length;++E)A[31&w[E]]++;for(var x=Wr(A,7),S=x[0],I=x[1],F=19;F>4&&!S[Ir[F-1]];--F);var P,R,T,C,O=l+5<<3,M=Yr(i,Br)+Yr(o,Nr)+s,L=Yr(i,f)+Yr(o,g)+s+14+3*F+Yr(A,S)+(2*A[16]+3*A[17]+7*A[18]);if(O<=M&&O<=L)return Qr(t,c,e.subarray(u,u+l));if(Hr(t,c,1+(L<M)),c+=2,L<M){P=$r(f,h,0),R=f,T=$r(g,v,0),C=g;var $=$r(S,I,0);for(Hr(t,c,y-257),Hr(t,c+5,k-1),Hr(t,c+10,F-4),c+=14,E=0;E<F;++E)Hr(t,c+3*E,S[Ir[E]]);c+=3*F;for(var B=[_,w],N=0;N<2;++N){var j=B[N];for(E=0;E<j.length;++E){var D=31&j[E];Hr(t,c,$[D]),c+=S[D],D>15&&(Hr(t,c,j[E]>>>5&127),c+=j[E]>>>12)}}}else P=jr,R=Br,T=Dr,C=Nr;for(E=0;E<a;++E)if(r[E]>255){D=r[E]>>>18&31,zr(t,c,P[D+257]),c+=R[D+257],D>7&&(Hr(t,c,r[E]>>>23&31),c+=xr[D]);var q=31&r[E];zr(t,c,T[q]),c+=C[q],q>3&&(zr(t,c,r[E]>>>5&8191),c+=Sr[q])}else zr(t,c,P[r[E]]),c+=R[r[E]];return zr(t,c,P[256]),c+R[256]},Kr=new Er([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Jr=new kr(0),Zr=function(){for(var e=new Er(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),ei=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function ti(e,t){void 0===t&&(t={});var n=function(){var e=4294967295;return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=Zr[255&n^t[r]]^n>>>8;e=n},d:function(){return 4294967295^e}}}(),r=e.length;n.p(e);var i,o=function(e,t,n,r,i){return function(e,t,n,r,i,o){var s=e.length,a=new kr(r+s+5*(1+Math.floor(s/7e3))+i),u=a.subarray(r,a.length-i),l=0;if(!t||s<8)for(var c=0;c<=s;c+=65535){var d=c+65535;d<s?l=Qr(u,l,e.subarray(c,d)):(u[c]=o,l=Qr(u,l,e.subarray(c,s)))}else{for(var f=Kr[t-1],h=f>>>13,p=8191&f,g=(1<<n)-1,v=new Ar(32768),m=new Ar(g+1),_=Math.ceil(n/3),y=2*_,b=function(t){return(e[t]^e[t+1]<<_^e[t+2]<<y)&g},w=new Er(25e3),k=new Ar(288),A=new Ar(32),E=0,x=0,S=(c=0,0),I=0,F=0;c<s;++c){var P=b(c),R=32767&c,T=m[P];if(v[R]=T,m[P]=R,I<=c){var C=s-c;if((E>7e3||S>24576)&&C>423){l=Xr(e,u,0,w,k,A,x,S,F,c-F,l),S=E=x=0,F=c;for(var O=0;O<286;++O)k[O]=0;for(O=0;O<30;++O)A[O]=0}var M=2,L=0,$=p,B=R-T&32767;if(C>2&&P==b(c-B))for(var N=Math.min(h,C)-1,j=Math.min(32767,c),D=Math.min(258,C);B<=j&&--$&&R!=T;){if(e[c+M]==e[c+M-B]){for(var q=0;q<D&&e[c+q]==e[c+q-B];++q);if(q>M){if(M=q,L=B,q>N)break;var U=Math.min(B,q-2),H=0;for(O=0;O<U;++O){var z=c-B+O+32768&32767,W=z-v[z]+32768&32767;W>H&&(H=W,T=z)}}}B+=(R=T)-(T=v[R])+32768&32767}if(L){w[S++]=268435456|Tr[M]<<18|Cr[L];var G=31&Tr[M],V=31&Cr[L];x+=xr[G]+Sr[V],++k[257+G],++A[V],I=c+M,++E}else w[S++]=e[c],++k[e[c]]}}l=Xr(e,u,o,w,k,A,x,S,F,c-F,l),o||(l=Qr(u,l,Jr))}return Ur(a,0,r+qr(l)+i)}(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!i)}(e,t,10+((i=t).filename&&i.filename.length+1||0),8),s=o.length;return function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&ei(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var r=0;r<=n.length;++r)e[r+10]=n.charCodeAt(r)}}(o,t),ei(o,s-8,n.d()),ei(o,s-4,r),o}var ni=!!Z||!!J,ri="text/plain",ii=function(e,t){var n=A(e.split("?"),2),r=n[0],i=n[1],o=m({},t);null==i||i.split("&").forEach((function(e){var t=A(e.split("="),1)[0];delete o[t]}));var s=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&",i=[];return ue(e,(function(e,r){B(e)||B(r)||"undefined"===r||(t=encodeURIComponent(function(e){return e instanceof File}(e)?e.name:e.toString()),n=encodeURIComponent(r),i[i.length]=n+"="+t)})),i.join(r)}(o);return s=s?(i?i+"&":"")+s:i,"".concat(r,"?").concat(s)},oi=function(e){return"data="+encodeURIComponent("string"==typeof e?e:JSON.stringify(e))},si=function(e){var t=e.data,n=e.compression;if(t){if(n===me.GZipJS){var r=ti(function(e,t){var n=e.length;if("undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);for(var r=new kr(e.length+(e.length>>>1)),i=0,o=function(e){r[i++]=e},s=0;s<n;++s){if(i+5>r.length){var a=new kr(i+8+(n-s<<1));a.set(r),r=a}var u=e.charCodeAt(s);u<128?o(u):u<2048?(o(192|u>>>6),o(128|63&u)):u>55295&&u<57344?(o(240|(u=65536+(1047552&u)|1023&e.charCodeAt(++s))>>>18),o(128|u>>>12&63),o(128|u>>>6&63),o(128|63&u)):(o(224|u>>>12),o(128|u>>>6&63),o(128|63&u))}return Ur(r,0,i)}(JSON.stringify(t)),{mtime:0});return{contentType:ri,body:new Blob([r],{type:ri})}}if(n===me.Base64){var i=function(e){var t,n,r,i,o,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=0,u=0,l="",c=[];if(!e)return e;e=function(e){var t,n,r,i,o="";for(t=n=0,r=(e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,i=0;i<r;i++){var s=e.charCodeAt(i),a=null;s<128?n++:a=s>127&&s<2048?String.fromCharCode(s>>6|192,63&s|128):String.fromCharCode(s>>12|224,s>>6&63|128,63&s|128),j(a)||(n>t&&(o+=e.substring(t,n)),o+=a,t=n=i+1)}return n>t&&(o+=e.substring(t,e.length)),o}(e);do{t=(o=e.charCodeAt(a++)<<16|e.charCodeAt(a++)<<8|e.charCodeAt(a++))>>18&63,n=o>>12&63,r=o>>6&63,i=63&o,c[u++]=s.charAt(t)+s.charAt(n)+s.charAt(r)+s.charAt(i)}while(a<e.length);switch(l=c.join(""),e.length%3){case 1:l=l.slice(0,-2)+"==";break;case 2:l=l.slice(0,-1)+"="}return l}(JSON.stringify(t));return{contentType:"application/x-www-form-urlencoded",body:oi(i)}}return{contentType:"application/json",body:JSON.stringify(t)}}},ai=[];Z&&ai.push({transport:"XHR",method:function(e){var t,n=new Z;n.open(e.method||"GET",e.url,!0);var r=null!==(t=si(e))&&void 0!==t?t:{},i=r.contentType,o=r.body;ue(e.headers,(function(e,t){n.setRequestHeader(t,e)})),i&&n.setRequestHeader("Content-Type",i),e.timeout&&(n.timeout=e.timeout),n.withCredentials=!0,n.onreadystatechange=function(){if(4===n.readyState){var t,r={statusCode:n.status,text:n.responseText};if(200===n.status)try{r.json=JSON.parse(n.responseText)}catch(e){}null===(t=e.callback)||void 0===t||t.call(e,r)}},n.send(o)}}),J&&ai.push({transport:"fetch",method:function(e){var t,n,r=null!==(t=si(e))&&void 0!==t?t:{},i=r.contentType,o=r.body,s=new Headers;ue(s,(function(e,t){s.append(t,e)})),i&&s.append("Content-Type",i);var a=e.url,u=null;if(ee){var l=new ee;u={signal:l.signal,timeout:setTimeout((function(){return l.abort()}),e.timeout)}}J(a,{method:(null==e?void 0:e.method)||"GET",headers:s,keepalive:"POST"===e.method,body:o,signal:null===(n=u)||void 0===n?void 0:n.signal}).then((function(t){return t.text().then((function(n){var r,i={statusCode:t.status,text:n};if(200===t.status)try{i.json=JSON.parse(n)}catch(e){ie.error(e)}null===(r=e.callback)||void 0===r||r.call(e,i)}))})).catch((function(t){var n;ie.error(t),null===(n=e.callback)||void 0===n||n.call(e,{statusCode:0,text:t})})).finally((function(){return u?clearTimeout(u.timeout):null}))}}),null!=Q&&Q.sendBeacon&&ai.push({transport:"sendBeacon",method:function(e){var t=ii(e.url,{beacon:"1"});try{var n,r=null!==(n=si(e))&&void 0!==n?n:{},i=r.contentType,o=r.body,s="string"==typeof o?new Blob([o],{type:i}):o;Q.sendBeacon(t,s)}catch(e){}}});var ui,li=["retriesPerformedSoFar"],ci=function(){function e(t){var n=this;y(this,e),k(this,"isPolling",!1),k(this,"pollIntervalMs",3e3),k(this,"queue",[]),this.instance=t,this.queue=[],this.areWeOnline=!0,!B(z)&&"onLine"in z.navigator&&(this.areWeOnline=z.navigator.onLine,z.addEventListener("online",(function(){n.areWeOnline=!0,n.flush()})),z.addEventListener("offline",(function(){n.areWeOnline=!1})))}return w(e,[{key:"retriableRequest",value:function(e){var t=this,n=e.retriesPerformedSoFar,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,li);q(n)&&n>0&&(r.url=ii(r.url,{retry_count:n})),this.instance._send_request(m(m({},r),{},{callback:function(e){var i;200!==e.statusCode&&(e.statusCode<400||e.statusCode>=500)&&(null!=n?n:0)<10?t.enqueue(m({retriesPerformedSoFar:n},r)):null===(i=r.callback)||void 0===i||i.call(r,e)}}))}},{key:"enqueue",value:function(e){var t=e.retriesPerformedSoFar||0;e.retriesPerformedSoFar=t+1;var n=function(e){var t=3e3*Math.pow(2,e),n=t/2,r=Math.min(18e5,t),i=(Math.random()-.5)*(r-n);return Math.ceil(r+i)}(t),r=Date.now()+n;this.queue.push({retryAt:r,requestOptions:e});var i="Enqueued failed request for retry in ".concat(n);navigator.onLine||(i+=" (Browser is offline)"),ie.warn(i),this.isPolling||(this.isPolling=!0,this.poll())}},{key:"poll",value:function(){var e=this;this.poller&&clearTimeout(this.poller),this.poller=setTimeout((function(){e.areWeOnline&&e.queue.length>0&&e.flush(),e.poll()}),this.pollIntervalMs)}},{key:"flush",value:function(){var e=Date.now(),t=[],n=this.queue.filter((function(n){return n.retryAt<e||(t.push(n),!1)}));if(this.queue=t,n.length>0){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var o=r.value.requestOptions;this.retriableRequest(o)}}catch(e){i.e(e)}finally{i.f()}}}},{key:"unload",value:function(){this.poller&&(clearTimeout(this.poller),this.poller=void 0);var e,t=I(this.queue);try{for(t.s();!(e=t.n()).done;){var n=e.value.requestOptions;try{this.instance._send_request(m(m({},n),{},{transport:"sendBeacon"}))}catch(e){ie.error(e)}}}catch(e){t.e(e)}finally{t.f()}this.queue=[]}}]),e}(),di=1800,fi=function(){function e(t,n,r,i){y(this,e),k(this,"_sessionIdChangedHandlers",[]),this.config=t,this.persistence=n,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=r||at,this._windowIdGenerator=i||at;var o=t.persistence_name||t.token,s=t.session_idle_timeout_seconds||di;if(q(s)?s>di?ie.warn("session_idle_timeout_seconds cannot be  greater than 30 minutes. Using 30 minutes instead."):s<60&&ie.warn("session_idle_timeout_seconds cannot be less than 60 seconds. Using 60 seconds instead."):(ie.warn("session_idle_timeout_seconds must be a number. Defaulting to 30 minutes."),s=di),this._sessionTimeoutMs=1e3*Math.min(Math.max(s,60),di),this._window_id_storage_key="ph_"+o+"_window_id",this._primary_window_exists_storage_key="ph_"+o+"_primary_window_exists",this._canUseSessionStorage()){var a=bt.parse(this._window_id_storage_key),u=bt.parse(this._primary_window_exists_storage_key);a&&!u?this._windowId=a:bt.remove(this._window_id_storage_key),bt.set(this._primary_window_exists_storage_key,!0)}this._listenToReloadWindow()}return w(e,[{key:"onSessionId",value:function(e){var t=this;return B(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(e),this._sessionId&&e(this._sessionId,this._windowId),function(){t._sessionIdChangedHandlers=t._sessionIdChangedHandlers.filter((function(t){return t!==e}))}}},{key:"_canUseSessionStorage",value:function(){return"memory"!==this.config.persistence&&!this.persistence.disabled&&bt.is_supported()}},{key:"_setWindowId",value:function(e){e!==this._windowId&&(this._windowId=e,this._canUseSessionStorage()&&bt.set(this._window_id_storage_key,e))}},{key:"_getWindowId",value:function(){return this._windowId?this._windowId:this._canUseSessionStorage()?bt.parse(this._window_id_storage_key):null}},{key:"_setSessionId",value:function(e,t,n){e===this._sessionId&&t===this._sessionActivityTimestamp&&n===this._sessionStartTimestamp||(this._sessionStartTimestamp=n,this._sessionActivityTimestamp=t,this._sessionId=e,this.persistence.register(k({},Ce,[t,e,n])))}},{key:"_getSessionId",value:function(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var e=this.persistence.props[Ce];return O(e)&&2===e.length&&e.push(e[0]),e||[0,null,0]}},{key:"resetSessionId",value:function(){this._setSessionId(null,null,null)}},{key:"_listenToReloadWindow",value:function(){var e=this;null==z||z.addEventListener("beforeunload",(function(){e._canUseSessionStorage()&&bt.remove(e._primary_window_exists_storage_key)}))}},{key:"checkAndGetSessionAndWindowId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||(new Date).getTime(),n=A(this._getSessionId(),3),r=n[0],i=n[1],o=n[2],s=this._getWindowId(),a=o&&o>0&&Math.abs(t-o)>864e5,u=!1,l=!i,c=!e&&Math.abs(t-r)>this._sessionTimeoutMs;l||c||a?(i=this._sessionIdGenerator(),s=this._windowIdGenerator(),ie.info("[SessionId] new session ID generated",{sessionId:i,windowId:s,changeReason:{noSessionId:l,activityTimeout:c,sessionPastMaximumLength:a}}),o=t,u=!0):s||(s=this._windowIdGenerator(),u=!0);var d=0===r||!e||a?t:r,f=0===o?(new Date).getTime():o;return this._setWindowId(s),this._setSessionId(i,d,f),u&&this._sessionIdChangedHandlers.forEach((function(e){return e(i,s)})),{sessionId:i,windowId:s,sessionStartTimestamp:f}}}]),e}();!function(e){e.US="us",e.EU="eu",e.CUSTOM="custom"}(ui||(ui={}));var hi="i.posthog.com",pi=function(){function e(t){y(this,e),k(this,"_regionCache",{}),this.instance=t}return w(e,[{key:"apiHost",get:function(){return this.instance.config.api_host.trim().replace(/\/$/,"")}},{key:"uiHost",get:function(){var e,t=null===(e=this.instance.config.ui_host)||void 0===e?void 0:e.replace(/\/$/,"");return"https://app.posthog.com"===t?"https://us.posthog.com":t}},{key:"region",get:function(){return this._regionCache[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=ui.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=ui.EU:this._regionCache[this.apiHost]=ui.CUSTOM),this._regionCache[this.apiHost]}},{key:"endpointFor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(t&&(t="/"===t[0]?t:"/".concat(t)),"ui"===e)return(this.uiHost||this.apiHost.replace(".".concat(hi),".posthog.com"))+t;if(this.region===ui.CUSTOM)return this.apiHost+t;var n=hi+t;switch(e){case"assets":return"https://".concat(this.region,"-assets.").concat(n);case"api":return"https://".concat(this.region,".").concat(n)}}}]),e}(),gi="posthog-js";function vi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.organization,r=t.projectId,i=t.prefix,o=t.severityAllowList,s=void 0===o?["error"]:o;return function(t){var o,a,u,l,c;if("*"!==s&&!s.includes(t.level)||!e.__loaded)return t;t.tags||(t.tags={});var d=e.requestRouter.endpointFor("ui","/project/".concat(e.config.token,"/person/").concat(e.get_distinct_id()));t.tags["PostHog Person URL"]=d,e.sessionRecordingStarted()&&(t.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var f=(null===(o=t.exception)||void 0===o?void 0:o.values)||[],h={$exception_message:(null===(a=f[0])||void 0===a?void 0:a.value)||t.message,$exception_type:null===(u=f[0])||void 0===u?void 0:u.type,$exception_personURL:d,$sentry_event_id:t.event_id,$sentry_exception:t.exception,$sentry_exception_message:(null===(l=f[0])||void 0===l?void 0:l.value)||t.message,$sentry_exception_type:null===(c=f[0])||void 0===c?void 0:c.type,$sentry_tags:t.tags,$level:t.level};return n&&r&&(h.$sentry_url=(i||"https://sentry.io/organizations/")+n+"/issues/?project="+r+"&query="+t.event_id),e.capture("$exception",h),t}}var mi=w((function e(t,n,r,i,o){y(this,e),this.name=gi,this.setupOnce=function(e){e(vi(t,{organization:n,projectId:r,prefix:i,severityAllowList:o}))}}));var _i=function(){function e(t){y(this,e),this._instance=t}return w(e,[{key:"doPageView",value:function(){var e,t=this._previousScrollProperties();return this._currentPath=null!==(e=null==z?void 0:z.location.pathname)&&void 0!==e?e:"",this._instance.scrollManager.resetContext(),t}},{key:"doPageLeave",value:function(){return this._previousScrollProperties()}},{key:"_previousScrollProperties",value:function(){var e=this._currentPath,t=this._instance.scrollManager.getContext();if(!e||!t)return{};var n=t.maxScrollHeight,r=t.lastScrollY,i=t.maxScrollY,o=t.maxContentHeight,s=t.lastContentY,a=t.maxContentY;return B(n)||B(r)||B(i)||B(o)||B(s)||B(a)?{}:(n=Math.ceil(n),r=Math.ceil(r),i=Math.ceil(i),o=Math.ceil(o),s=Math.ceil(s),a=Math.ceil(a),{$prev_pageview_pathname:e,$prev_pageview_last_scroll:r,$prev_pageview_last_scroll_percentage:n<=1?1:yi(r/n,0,1),$prev_pageview_max_scroll:i,$prev_pageview_max_scroll_percentage:n<=1?1:yi(i/n,0,1),$prev_pageview_last_content:s,$prev_pageview_last_content_percentage:o<=1?1:yi(s/o,0,1),$prev_pageview_max_content:a,$prev_pageview_max_content_percentage:o<=1?1:yi(a/o,0,1)})}}]),e}();function yi(e,t,n){return Math.max(t,Math.min(e,n))}var bi=function(){function e(t){y(this,e),this.persistence=t,this.eventRegistry=new Map}return w(e,[{key:"register",value:function(e){var t=this;e.forEach((function(e){var n,r,i,o,s;null!==(n=e.conditions)&&void 0!==n&&n.events&&null!==(r=e.conditions)&&void 0!==r&&null!==(i=r.events)&&void 0!==i&&i.values&&(null===(o=e.conditions)||void 0===o?void 0:o.events.values.length)>0&&t.eventRegistry.set(e.id,null===(s=e.conditions)||void 0===s?void 0:s.events.values.map((function(e){return e.name})))}))}},{key:"on",value:function(e){var t,n=[];this.eventRegistry.forEach((function(t,r){t.includes(e)&&n.push(r)}));var r=((null===(t=this.persistence)||void 0===t?void 0:t.props[je])||[]).concat(n);this._saveSurveysToStorage(r)}},{key:"getSurveys",value:function(){var e;return(null===(e=this.persistence)||void 0===e?void 0:e.props[je])||[]}},{key:"getEventRegistry",value:function(){return this.eventRegistry}},{key:"_saveSurveysToStorage",value:function(e){var t;null===(t=this.persistence)||void 0===t||t.register(k({},je,E(new Set(e))))}}]),e}(),wi={icontains:function(e){return!!z&&z.location.href.toLowerCase().indexOf(e.toLowerCase())>-1},regex:function(e){return!!z&&function(e,t){return!!function(e){try{new RegExp(e)}catch(e){return!1}return!0}(t)&&new RegExp(t).test(e)}(z.location.href,e)},exact:function(e){return(null==z?void 0:z.location.href)===e}},ki=function(){function e(t){y(this,e),this.instance=t,this._surveyEventReceiver=null}return w(e,[{key:"afterDecideResponse",value:function(e){this._decideServerResponse=!!e.surveys,this.loadIfEnabled()}},{key:"loadIfEnabled",value:function(){var e=this,t=null==ne?void 0:ne.extendPostHogWithSurveys;this.instance.config.disable_surveys||!this._decideServerResponse||t||(null==this._surveyEventReceiver&&(this._surveyEventReceiver=new bi(this.instance.persistence)),ye(this.instance.requestRouter.endpointFor("assets","/static/surveys.js"),(function(t){if(t)return ie.error("Could not load surveys script",t);ne.extendPostHogWithSurveys(e.instance)})))}},{key:"getSurveys",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.instance.config.disable_surveys)return e([]);null==this._surveyEventReceiver&&(this._surveyEventReceiver=new bi(this.instance.persistence));var r=this.instance.get_property(Ne);if(r&&!n)return e(r);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api","/api/surveys/?token=".concat(this.instance.config.token)),method:"GET",transport:"XHR",callback:function(n){var r;if(200!==n.statusCode||!n.json)return e([]);var i,o=n.json.surveys||[],s=o.filter((function(e){var t,n,r,i,o,s;return(null===(t=e.conditions)||void 0===t?void 0:t.events)&&(null===(n=e.conditions)||void 0===n||null===(r=n.events)||void 0===r?void 0:r.values)&&(null===(i=e.conditions)||void 0===i||null===(o=i.events)||void 0===o||null===(s=o.values)||void 0===s?void 0:s.length)>0}));s.length>0&&!B(t.instance._addCaptureHook)&&(null===(i=t._surveyEventReceiver)||void 0===i||i.register(s),t.instance._addCaptureHook((function(e){var n;null===(n=t._surveyEventReceiver)||void 0===n||n.on(e)})));return null===(r=t.instance.persistence)||void 0===r||r.register(k({},Ne,o)),e(o)}})}},{key:"getActiveMatchingSurveys",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.getSurveys((function(n){var r,i=n.filter((function(e){return!(!e.start_date||e.end_date)})).filter((function(e){var t,n,r,i;if(!e.conditions)return!0;var o=null===(t=e.conditions)||void 0===t||!t.url||wi[null!==(n=null===(r=e.conditions)||void 0===r?void 0:r.urlMatchType)&&void 0!==n?n:"icontains"](e.conditions.url),s=null===(i=e.conditions)||void 0===i||!i.selector||(null==X?void 0:X.querySelector(e.conditions.selector));return o&&s})),o=null===(r=t._surveyEventReceiver)||void 0===r?void 0:r.getSurveys(),s=i.filter((function(e){var n,r,i,s,a;if(!e.linked_flag_key&&!e.targeting_flag_key&&!e.internal_targeting_flag_key)return!0;var u=!e.linked_flag_key||t.instance.featureFlags.isFeatureEnabled(e.linked_flag_key),l=!e.targeting_flag_key||t.instance.featureFlags.isFeatureEnabled(e.targeting_flag_key),c=!e.internal_targeting_flag_key||t.instance.featureFlags.isFeatureEnabled(e.internal_targeting_flag_key),d=!((null===(n=e.conditions)||void 0===n?void 0:n.events)&&(null===(r=e.conditions)||void 0===r||null===(i=r.events)||void 0===i?void 0:i.values)&&(null===(s=e.conditions)||void 0===s||null===(a=s.events)||void 0===a?void 0:a.values.length)>0)||(null==o?void 0:o.includes(e.id));return u&&l&&c&&d}));return e(s)}),n)}}]),e}(),Ai=function(){function e(t){var n,r,i=this;y(this,e),k(this,"serverLimits",{}),k(this,"lastEventRateLimited",!1),k(this,"checkForLimiting",(function(e){var t=e.text;if(t&&t.length)try{(JSON.parse(t).quota_limited||[]).forEach((function(e){ie.info("[RateLimiter] ".concat(e||"events"," is quota limited.")),i.serverLimits[e]=(new Date).getTime()+6e4}))}catch(e){return void ie.warn('[RateLimiter] could not rate limit - continuing. Error: "'.concat(null==e?void 0:e.message,'"'),{text:t})}})),this.instance=t,this.captureEventsPerSecond=(null===(n=t.config.rate_limiting)||void 0===n?void 0:n.events_per_second)||10,this.captureEventsBurstLimit=Math.max((null===(r=t.config.rate_limiting)||void 0===r?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}return w(e,[{key:"clientRateLimitContext",value:function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=(new Date).getTime(),o=null!==(e=null===(t=this.instance.persistence)||void 0===t?void 0:t.get_property(He))&&void 0!==e?e:{tokens:this.captureEventsBurstLimit,last:i};o.tokens+=(i-o.last)/1e3*this.captureEventsPerSecond,o.last=i,o.tokens>this.captureEventsBurstLimit&&(o.tokens=this.captureEventsBurstLimit);var s=o.tokens<1;return s||r||(o.tokens=Math.max(0,o.tokens-1)),!s||this.lastEventRateLimited||r||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to ".concat(this.captureEventsPerSecond," events per second and ").concat(this.captureEventsBurstLimit," events burst limit.")},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=s,null===(n=this.instance.persistence)||void 0===n||n.set_property(He,o),{isRateLimited:s,remainingTokens:o.tokens}}},{key:"isServerRateLimited",value:function(e){var t=this.serverLimits[e||"events"]||!1;return!1!==t&&(new Date).getTime()<t}}]),e}(),Ei=function(){return m({initialPathName:(null==K?void 0:K.pathname)||"",referringDomain:kn.referringDomain()},kn.campaignParams())},xi=function(){function e(t,n,r){var i=this;y(this,e),k(this,"_onSessionIdCallback",(function(e){var t=i._getStoredProps();if(!t||t.sessionId!==e){var n={sessionId:e,props:i._sessionSourceParamGenerator()};i._persistence.register(k({},Ue,n))}})),this._sessionIdManager=t,this._persistence=n,this._sessionSourceParamGenerator=r||Ei,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}return w(e,[{key:"_getStoredProps",value:function(){return this._persistence.props[Ue]}},{key:"getSessionProps",value:function(){var e,t=null===(e=this._getStoredProps())||void 0===e?void 0:e.props;return t?{$client_session_initial_referring_host:t.referringDomain,$client_session_initial_pathname:t.initialPathName,$client_session_initial_utm_source:t.utm_source,$client_session_initial_utm_campaign:t.utm_campaign,$client_session_initial_utm_medium:t.utm_medium,$client_session_initial_utm_content:t.utm_content,$client_session_initial_utm_term:t.utm_term}:{}}}]),e}(),Si=["ahrefsbot","ahrefssiteaudit","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","deepscan","duckduckbot","facebookexternal","facebookcatalog","gptbot","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","slurp","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google","Bytespider;"],Ii=function(e,t){if(!e)return!1;var n=e.toLowerCase();return Si.concat(t||[]).some((function(e){var t=e.toLowerCase();return-1!==n.indexOf(t)}))},Fi=function(){function e(){y(this,e),this.clicks=[]}return w(e,[{key:"isRageClick",value:function(e,t,n){var r=this.clicks[this.clicks.length-1];if(r&&Math.abs(e-r.x)+Math.abs(t-r.y)<30&&n-r.timestamp<1e3){if(this.clicks.push({x:e,y:t,timestamp:n}),3===this.clicks.length)return!0}else this.clicks=[{x:e,y:t,timestamp:n}];return!1}}]),e}();function Pi(e){var t;return e.id===Ye||!(null===(t=e.closest)||void 0===t||!t.call(e,"#"+Ye))}var Ri=function(){function e(t){var n;y(this,e),k(this,"rageclicks",new Fi),k(this,"_enabledServerSide",!1),k(this,"_initialized",!1),this.instance=t,this._enabledServerSide=!(null===(n=this.instance.persistence)||void 0===n||!n.props[xe])}return w(e,[{key:"startIfEnabled",value:function(){this.isEnabled&&!this._initialized&&(ie.info("[heatmaps] Heatmaps enabled, starting..."),this._setupListeners())}},{key:"isEnabled",get:function(){return B(this.instance.config.enable_heatmaps)?this._enabledServerSide:this.instance.config.enable_heatmaps}},{key:"afterDecideResponse",value:function(e){var t=!!e.heatmaps;this.instance.persistence&&this.instance.persistence.register(k({},xe,t)),this._enabledServerSide=t,this.startIfEnabled()}},{key:"getAndClearBuffer",value:function(){var e=this.buffer;return this.buffer=void 0,e}},{key:"_setupListeners",value:function(){var e=this;z&&X&&(_e(X,"click",(function(t){return e._onClick(t||(null==z?void 0:z.event))}),!1,!0),_e(X,"mousemove",(function(t){return e._onMouseMove(t||(null==z?void 0:z.event))}),!1,!0),this._initialized=!0)}},{key:"_getProperties",value:function(e,t){var n=this.instance.scrollManager.scrollY(),r=this.instance.scrollManager.scrollX(),i=this.instance.scrollManager.scrollElement(),o=function(e,t,n){for(var r=e;r&&!On(r,"body");){if(r===n)return!1;if(ce(t,null==z?void 0:z.getComputedStyle(r).position))return!0;r=Bn(r)}return!1}(e.target,["fixed","sticky"],i);return{x:e.clientX+(o?0:r),y:e.clientY+(o?0:n),target_fixed:o,type:t}}},{key:"_onClick",value:function(e){var t;if(!Pi(e.target)){var n=this._getProperties(e,"click");null!==(t=this.rageclicks)&&void 0!==t&&t.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this._capture(m(m({},n),{},{type:"rageclick"})),this._capture(n)}}},{key:"_onMouseMove",value:function(e){var t=this;Pi(e.target)||(clearTimeout(this._mouseMoveTimeout),this._mouseMoveTimeout=setTimeout((function(){t._capture(t._getProperties(e,"mousemove"))}),500))}},{key:"_capture",value:function(e){if(z){var t=z.location.href;this.buffer=this.buffer||{},this.buffer[t]||(this.buffer[t]=[]),this.buffer[t].push(e)}}}]),e}(),Ti=function(){function e(t){var n=this;y(this,e),k(this,"_updateScrollData",(function(){var e,t,r,i;n.context||(n.context={});var o=n.scrollElement(),s=n.scrollY(),a=o?Math.max(0,o.scrollHeight-o.clientHeight):0,u=s+((null==o?void 0:o.clientHeight)||0),l=(null==o?void 0:o.scrollHeight)||0;n.context.lastScrollY=Math.ceil(s),n.context.maxScrollY=Math.max(s,null!==(e=n.context.maxScrollY)&&void 0!==e?e:0),n.context.maxScrollHeight=Math.max(a,null!==(t=n.context.maxScrollHeight)&&void 0!==t?t:0),n.context.lastContentY=u,n.context.maxContentY=Math.max(u,null!==(r=n.context.maxContentY)&&void 0!==r?r:0),n.context.maxContentHeight=Math.max(l,null!==(i=n.context.maxContentHeight)&&void 0!==i?i:0)})),this.instance=t}return w(e,[{key:"getContext",value:function(){return this.context}},{key:"resetContext",value:function(){var e=this.context;return setTimeout(this._updateScrollData,0),e}},{key:"startMeasuringScrollPosition",value:function(){null==z||z.addEventListener("scroll",this._updateScrollData,!0),null==z||z.addEventListener("scrollend",this._updateScrollData,!0),null==z||z.addEventListener("resize",this._updateScrollData)}},{key:"scrollElement",value:function(){if(!this.instance.config.scroll_root_selector)return null==z?void 0:z.document.documentElement;var e,t=I(O(this.instance.config.scroll_root_selector)?this.instance.config.scroll_root_selector:[this.instance.config.scroll_root_selector]);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=null==z?void 0:z.document.querySelector(n);if(r)return r}}catch(e){t.e(e)}finally{t.f()}}},{key:"scrollY",value:function(){if(this.instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollTop||0}return z&&(z.scrollY||z.pageYOffset||z.document.documentElement.scrollTop)||0}},{key:"scrollX",value:function(){if(this.instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollLeft||0}return z&&(z.scrollX||z.pageXOffset||z.document.documentElement.scrollLeft)||0}}]),e}(),Ci=function(){function e(){y(this,e),k(this,"events",{}),this.events={}}return w(e,[{key:"on",value:function(e,t){var n=this;return this.events[e]||(this.events[e]=[]),this.events[e].push(t),function(){n.events[e]=n.events[e].filter((function(e){return e!==t}))}}},{key:"emit",value:function(e,t){var n,r=I(this.events[e]||[]);try{for(r.s();!(n=r.n()).done;)(0,n.value)(t)}catch(e){r.e(e)}finally{r.f()}var i,o=I(this.events["*"]||[]);try{for(o.s();!(i=o.n()).done;)(0,i.value)(e,t)}catch(e){o.e(e)}finally{o.f()}}}]),e}(),Oi="$copy_autocapture";function Mi(e,t){return t.length>e?t.slice(0,e)+"...":t}var Li,$i=function(){function e(t){y(this,e),k(this,"_initialized",!1),k(this,"_isDisabledServerSide",null),k(this,"rageclicks",new Fi),k(this,"_elementsChainAsString",!1),this.instance=t}return w(e,[{key:"config",get:function(){var e,t=L(this.instance.config.autocapture)?this.instance.config.autocapture:{};return t.url_allowlist=null===(e=t.url_allowlist)||void 0===e?void 0:e.map((function(e){return new RegExp(e)})),t}},{key:"_addDomEventHandlers",value:function(){var e=this;if(this.isBrowserSupported()){if(z&&X){var t=function(t){t=t||(null==z?void 0:z.event);try{e._captureEvent(t)}catch(e){ie.error("Failed to capture event",e)}},n=function(t){t=t||(null==z?void 0:z.event),e._captureEvent(t,Oi)};_e(X,"submit",t,!1,!0),_e(X,"change",t,!1,!0),_e(X,"click",t,!1,!0),this.config.capture_copied_text&&(_e(X,"copy",n,!1,!0),_e(X,"cut",n,!1,!0))}}else ie.info("Disabling Automatic Event Collection because this browser is not supported")}},{key:"startIfEnabled",value:function(){this.isEnabled&&!this._initialized&&(this._addDomEventHandlers(),this._initialized=!0)}},{key:"afterDecideResponse",value:function(e){e.elementsChainAsString&&(this._elementsChainAsString=e.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register(k({},Ee,!!e.autocapture_opt_out)),this._isDisabledServerSide=!!e.autocapture_opt_out,this.startIfEnabled()}},{key:"isEnabled",get:function(){var e,t,n=null===(e=this.instance.persistence)||void 0===e?void 0:e.props[Ee],r=this._isDisabledServerSide;if(j(r)&&!U(n)&&!this.instance.config.advanced_disable_decide)return!1;var i=null!==(t=this._isDisabledServerSide)&&void 0!==t?t:!!n;return!!this.instance.config.autocapture&&!i}},{key:"_previousElementSibling",value:function(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do{t=t.previousSibling}while(t&&!Cn(t));return t}},{key:"_getAugmentPropertiesFromElement",value:function(e){if(!jn(e))return{};var t={};return ue(e.attributes,(function(e){if(e.name&&0===e.name.indexOf("data-ph-capture-attribute")){var n=e.name.replace("data-ph-capture-attribute-",""),r=e.value;n&&r&&Vn(r)&&(t[n]=r)}})),t}},{key:"_getPropertiesFromElement",value:function(e,t,n){var r,i=e.tagName.toLowerCase(),o={tag_name:i};$n.indexOf(i)>-1&&!n&&("a"===i.toLowerCase()||"button"===i.toLowerCase()?o.$el_text=Mi(1024,Yn(e)):o.$el_text=Mi(1024,Tn(e)));var s=Pn(e);s.length>0&&(o.classes=s.filter((function(e){return""!==e})));var a=null===(r=this.config)||void 0===r?void 0:r.element_attribute_ignorelist;ue(e.attributes,(function(n){var r;if((!Dn(e)||-1!==["name","id","class","aria-label"].indexOf(n.name))&&(null==a||!a.includes(n.name))&&!t&&Vn(n.value)&&(r=n.name,!N(r)||"_ngcontent"!==r.substring(0,10)&&"_nghost"!==r.substring(0,7))){var i=n.value;"class"===n.name&&(i=Fn(i).join(" ")),o["attr__"+n.name]=Mi(1024,i)}}));for(var u=1,l=1,c=e;c=this._previousElementSibling(c);)u++,c.tagName===e.tagName&&l++;return o.nth_child=u,o.nth_of_type=l,o}},{key:"_getDefaultProperties",value:function(e){return{$event_type:e,$ce_version:1}}},{key:"_getEventTarget",value:function(e){return B(e.target)?e.srcElement||null:null!==(t=e.target)&&void 0!==t&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t}},{key:"_captureEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$autocapture";if(this.isEnabled){var r,i=this._getEventTarget(e);Mn(i)&&(i=i.parentNode||null),"$autocapture"===n&&"click"===e.type&&e instanceof MouseEvent&&this.instance.config.rageclick&&null!==(r=this.rageclicks)&&void 0!==r&&r.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this._captureEvent(e,"$rageclick");var o=n===Oi;if(i&&Nn(i,e,this.config,o,o?["copy","cut"]:void 0)){for(var s,a,u=[i],l=i;l.parentNode&&!On(l,"body");)Ln(l.parentNode)?(u.push(l.parentNode.host),l=l.parentNode.host):(u.push(l.parentNode),l=l.parentNode);var c,d=[],f={},h=!1;if(ue(u,(function(e){var n=jn(e);"a"===e.tagName.toLowerCase()&&(c=e.getAttribute("href"),c=n&&Vn(c)&&c),ce(Pn(e),"ph-no-capture")&&(h=!0),d.push(t._getPropertiesFromElement(e,t.instance.config.mask_all_element_attributes,t.instance.config.mask_all_text));var r=t._getAugmentPropertiesFromElement(e);le(f,r)})),this.instance.config.mask_all_text||("a"===i.tagName.toLowerCase()||"button"===i.tagName.toLowerCase()?d[0].$el_text=Yn(i):d[0].$el_text=Tn(i)),c&&(d[0].attr__href=c),h)return!1;var p=le(this._getDefaultProperties(e.type),this._elementsChainAsString?{$elements_chain:Xn(d)}:{$elements:d},null!==(s=d[0])&&void 0!==s&&s.$el_text?{$el_text:null===(a=d[0])||void 0===a?void 0:a.$el_text}:{},f);if(n===Oi){var g,v=Rn(null==z||null===(g=z.getSelection())||void 0===g?void 0:g.toString()),m=e.type||"clipboard";if(!v)return!1;p.$selected_content=v,p.$copy_type=m}return this.instance.capture(n,p),!0}}}},{key:"isBrowserSupported",value:function(){return M(null==X?void 0:X.querySelectorAll)}}]),e}(),Bi=function(){function e(t){var n=this;y(this,e),k(this,"_restoreXHRPatch",void 0),k(this,"_restoreFetchPatch",void 0),k(this,"_startCapturing",(function(){B(n._restoreXHRPatch)&&ne.postHogTracingHeadersPatchFns._patchXHR(n.instance.sessionManager),B(n._restoreFetchPatch)&&ne.postHogTracingHeadersPatchFns._patchFetch(n.instance.sessionManager)})),this.instance=t}return w(e,[{key:"_loadScript",value:function(e){ne.postHogTracingHeadersPatchFns&&e(),ye(this.instance.requestRouter.endpointFor("assets","/static/tracing-headers.js?v=".concat(F.LIB_VERSION)),(function(t){t&&ie.error("[TRACING-HEADERS] failed to load script",t),e()}))}},{key:"startIfEnabledOrStop",value:function(){var e,t;this.instance.config.__add_tracing_headers?this._loadScript(this._startCapturing):(null===(e=this._restoreXHRPatch)||void 0===e||e.call(this),null===(t=this._restoreFetchPatch)||void 0===t||t.call(this),this._restoreXHRPatch=void 0,this._restoreFetchPatch=void 0)}}]),e}();!function(e){e[e.PENDING=-1]="PENDING",e[e.DENIED=0]="DENIED",e[e.GRANTED=1]="GRANTED"}(Li||(Li={}));var Ni,ji,Di=function(){function e(t){y(this,e),this.instance=t}return w(e,[{key:"config",get:function(){return this.instance.config}},{key:"consent",get:function(){return this.getDnt()?Li.DENIED:this.storedConsent}},{key:"isOptedOut",value:function(){return this.consent===Li.DENIED||this.consent===Li.PENDING&&this.config.opt_out_capturing_by_default}},{key:"isOptedIn",value:function(){return!this.isOptedOut()}},{key:"optInOut",value:function(e){this.storage.set(this.storageKey,e?1:0,this.config.cookie_expiration,this.config.cross_subdomain_cookie,this.config.secure_cookie)}},{key:"reset",value:function(){this.storage.remove(this.storageKey,this.config.cross_subdomain_cookie)}},{key:"storageKey",get:function(){var e=this.instance.config,t=e.token;return(e.opt_out_capturing_cookie_prefix||"__ph_opt_in_out_")+t}},{key:"storedConsent",get:function(){var e=this.storage.get(this.storageKey);return"1"===e?Li.GRANTED:"0"===e?Li.DENIED:Li.PENDING}},{key:"storage",get:function(){if(!this._storage){var e=this.config.opt_out_capturing_persistence_type;this._storage="localStorage"===e?pt:ft;var t="localStorage"===e?ft:pt;t.get(this.storageKey)&&(this._storage.get(this.storageKey)||this.optInOut("1"===t.get(this.storageKey)),t.remove(this.storageKey,this.config.cross_subdomain_cookie))}return this._storage}},{key:"getDnt",value:function(){return!!this.config.respect_dnt&&!!be([null==Q?void 0:Q.doNotTrack,null==Q?void 0:Q.msDoNotTrack,ne.doNotTrack],(function(e){return ce([!0,1,"1","yes"],e)}))}}]),e}(),qi={},Ui=function(){},Hi="posthog",zi=!ni&&-1===(null==te?void 0:te.indexOf("MSIE"))&&-1===(null==te?void 0:te.indexOf("Mozilla")),Wi=function(){var e,t,n;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:(t=null==X?void 0:X.location,n=null==t?void 0:t.hostname,!!N(n)&&"herokuapp.com"!==n.split(".").slice(-2).join(".")),persistence:"localStorage+cookie",persistence_name:"",loaded:Ui,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:"if_capture_pageview",debug:K&&N(null==K?void 0:K.search)&&-1!==K.search.indexOf("__posthog_debug=true")||!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_surveys:!1,enable_recording_console_log:void 0,secure_cookie:"https:"===(null==z||null===(e=z.location)||void 0===e?void 0:e.protocol),ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,on_request_error:function(e){var t="Bad HTTP status: "+e.statusCode+" "+e.text;ie.error(t)},get_device_id:function(e){return e},_onCapture:Ui,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"always",__add_tracing_headers:!1}},Gi=function(e){var t={};B(e.process_person)||(t.person_profiles=e.process_person),B(e.xhr_headers)||(t.request_headers=e.xhr_headers),B(e.cookie_name)||(t.persistence_name=e.cookie_name),B(e.disable_cookie)||(t.disable_persistence=e.disable_cookie);var n=le({},t,e);return O(e.property_blacklist)&&(B(e.property_denylist)?n.property_denylist=e.property_blacklist:O(e.property_denylist)?n.property_denylist=[].concat(E(e.property_blacklist),E(e.property_denylist)):ie.error("Invalid value for property_denylist config: "+e.property_denylist)),n},Vi=function(){function e(){y(this,e),k(this,"__forceAllowLocalhost",!1)}return w(e,[{key:"_forceAllowLocalhost",get:function(){return this.__forceAllowLocalhost},set:function(e){ie.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=e}}]),e}(),Yi=function(){function e(){var t=this;y(this,e),k(this,"webPerformance",new Vi),k(this,"_debugEventEmitter",new Ci),this.config=Wi(),this.decideEndpointWasHit=!1,this.SentryIntegration=mi,this.sentryIntegration=function(e){return function(e,t){var n=vi(e,t);return{name:gi,processEvent:function(e){return n(e)}}}(t,e)},this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.featureFlags=new et(this),this.toolbar=new br(this),this.scrollManager=new Ti(this),this.pageViewManager=new _i(this),this.surveys=new ki(this),this.rateLimiter=new Ai(this),this.requestRouter=new pi(this),this.consent=new Di(this),this.people={set:function(e,n,r){var i=N(e)?k({},e,n):e;t.setPersonProperties(i),null==r||r({})},set_once:function(e,n,r){var i=N(e)?k({},e,n):e;t.setPersonProperties(void 0,i),null==r||r({})}},this.on("eventCaptured",(function(e){return ie.info("send",e)}))}return w(e,[{key:"init",value:function(t,n,r){if(r&&r!==Hi){var i,o=null!==(i=qi[r])&&void 0!==i?i:new e;return o._init(t,n,r),qi[r]=o,qi[Hi][r]=o,o}return this._init(t,n,r)}},{key:"_init",value:function(e){var t,n,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;if(B(e)||function(e){return N(e)&&0===e.trim().length}(e))return ie.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return ie.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;if(this.__loaded=!0,this.config={},this._triggered_notifs=[],this.set_config(le({},Wi(),Gi(i),{name:o,token:e})),this.compression=i.disable_compression?void 0:me.Base64,this.persistence=new En(this.config),this.sessionPersistence="sessionStorage"===this.config.persistence?this.persistence:new En(m(m({},this.config),{},{persistence:"sessionStorage"})),this._requestQueue=new wr((function(e){return r._send_retriable_request(e)})),this._retryQueue=new ci(this),this.__request_queue=[],this.sessionManager=new fi(this.config,this.persistence),this.sessionPropsManager=new xi(this.sessionManager,this.persistence),new Bi(this).startIfEnabledOrStop(),this.sessionRecording=new vr(this),this.sessionRecording.startIfEnabledOrStop(),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new $i(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new Ri(this),this.heatmaps.startIfEnabled(),F.DEBUG=F.DEBUG||this.config.debug,this._sync_opt_out_with_persistence(),void 0!==(null===(t=i.bootstrap)||void 0===t?void 0:t.distinctID)){var s,a,u=this.config.get_device_id(at()),l=null!==(s=i.bootstrap)&&void 0!==s&&s.isIdentifiedID?u:i.bootstrap.distinctID;this.persistence.set_property(qe,null!==(a=i.bootstrap)&&void 0!==a&&a.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:i.bootstrap.distinctID,$device_id:l})}if(this._hasBootstrappedFeatureFlags()){var c,d,f=Object.keys((null===(c=i.bootstrap)||void 0===c?void 0:c.featureFlags)||{}).filter((function(e){var t,n;return!(null===(t=i.bootstrap)||void 0===t||null===(n=t.featureFlags)||void 0===n||!n[e])})).reduce((function(e,t){var n,r;return e[t]=(null===(n=i.bootstrap)||void 0===n||null===(r=n.featureFlags)||void 0===r?void 0:r[t])||!1,e}),{}),h=Object.keys((null===(d=i.bootstrap)||void 0===d?void 0:d.featureFlagPayloads)||{}).filter((function(e){return f[e]})).reduce((function(e,t){var n,r,o,s;return null!==(n=i.bootstrap)&&void 0!==n&&null!==(r=n.featureFlagPayloads)&&void 0!==r&&r[t]&&(e[t]=null===(o=i.bootstrap)||void 0===o||null===(s=o.featureFlagPayloads)||void 0===s?void 0:s[t]),e}),{});this.featureFlags.receivedFeatureFlags({featureFlags:f,featureFlagPayloads:h})}if(!this.get_distinct_id()){var p=this.config.get_device_id(at());this.register_once({distinct_id:p,$device_id:p},""),this.persistence.set_property(qe,"anonymous")}return null==z||null===(n=z.addEventListener)||void 0===n||n.call(z,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),this.toolbar.maybeLoadToolbar(),i.segment?function(e,t){var n=e.config.segment;if(!n)return t();!function(e,t){var n=e.config.segment;if(!n)return t();var r=function(n){var r=function(){return n.anonymousId()||at()};e.config.get_device_id=r,n.id()&&(e.register({distinct_id:n.id(),$device_id:r()}),e.persistence.set_property(qe,"identified")),t()},i=n.user();"then"in i&&M(i.then)?i.then((function(e){return r(e)})):r(i)}(e,(function(){n.register(function(e){Promise&&Promise.resolve||ie.warn("This browser does not have Promise support, and can not use the segment integration");var t=function(t,n){var r;if(!n)return t;t.event.userId||t.event.anonymousId===e.get_distinct_id()||e.reset(),t.event.userId&&t.event.userId!==e.get_distinct_id()&&(e.register({distinct_id:t.event.userId}),e.reloadFeatureFlags());var i=e._calculate_event_properties(n,null!==(r=t.event.properties)&&void 0!==r?r:{});return t.event.properties=Object.assign({},i,t.event.properties),t};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:function(e){return t(e,e.event.event)},page:function(e){return t(e,"$pageview")},identify:function(e){return t(e,"$identify")},screen:function(e){return t(e,"$screen")}}}(e)).then((function(){t()}))}))}(this,(function(){return r._loaded()})):this._loaded(),M(this.config._onCapture)&&this.on("eventCaptured",(function(e){return r.config._onCapture(e.event,e)})),this}},{key:"_afterDecideResponse",value:function(e){var t,n,r,i,o;this.compression=void 0,e.supportedCompression&&!this.config.disable_compression&&(this.compression=ce(e.supportedCompression,me.GZipJS)?me.GZipJS:ce(e.supportedCompression,me.Base64)?me.Base64:void 0),null!==(t=e.analytics)&&void 0!==t&&t.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint),null===(n=this.sessionRecording)||void 0===n||n.afterDecideResponse(e),null===(r=this.autocapture)||void 0===r||r.afterDecideResponse(e),null===(i=this.heatmaps)||void 0===i||i.afterDecideResponse(e),null===(o=this.surveys)||void 0===o||o.afterDecideResponse(e)}},{key:"_loaded",value:function(){var e=this,t=this.config.advanced_disable_decide;t||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(e){ie.critical("`loaded` function failed",e)}this._start_queue_if_opted_in(),this.config.capture_pageview&&setTimeout((function(){X&&e.capture("$pageview",{title:X.title},{send_instantly:!0})}),1),t||(new mr(this).call(),this.featureFlags.resetRequestQueue())}},{key:"_start_queue_if_opted_in",value:function(){var e;this.has_opted_out_capturing()||this.config.request_batching&&(null===(e=this._requestQueue)||void 0===e||e.enable())}},{key:"_dom_loaded",value:function(){var e=this;this.has_opted_out_capturing()||ae(this.__request_queue,(function(t){return e._send_retriable_request(t)})),this.__request_queue=[],this._start_queue_if_opted_in()}},{key:"_handle_unload",value:function(){var e,t;this.config.request_batching?(this._shouldCapturePageleave()&&this.capture("$pageleave"),null===(e=this._requestQueue)||void 0===e||e.unload(),null===(t=this._retryQueue)||void 0===t||t.unload()):this._shouldCapturePageleave()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}},{key:"_send_request",value:function(e){var t=this;this.__loaded&&(zi?this.__request_queue.push(e):this.rateLimiter.isServerRateLimited(e.batchKey)||(e.transport=e.transport||this.config.api_transport,e.url=ii(e.url,{ip:this.config.ip?1:0}),e.headers=this.config.request_headers,e.compression="best-available"===e.compression?this.compression:e.compression,function(e){var t,n,r,i=m({},e);i.timeout=i.timeout||6e4,i.url=ii(i.url,{_:(new Date).getTime().toString(),ver:F.LIB_VERSION,compression:i.compression});var o=null!==(t=i.transport)&&void 0!==t?t:"XHR",s=null!==(n=null===(r=be(ai,(function(e){return e.transport===o})))||void 0===r?void 0:r.method)&&void 0!==n?n:ai[0].method;if(!s)throw new Error("No available transport method");s(i)}(m(m({},e),{},{callback:function(n){var r,i,o;t.rateLimiter.checkForLimiting(n),n.statusCode>=400&&(null===(i=(o=t.config).on_request_error)||void 0===i||i.call(o,n)),null===(r=e.callback)||void 0===r||r.call(e,n)}}))))}},{key:"_send_retriable_request",value:function(e){this._retryQueue?this._retryQueue.retriableRequest(e):this._send_request(e)}},{key:"_execute_array",value:function(e){var t,n=this,r=[],i=[],o=[];ae(e,(function(e){e&&(t=e[0],O(t)?o.push(e):M(e)?e.call(n):O(e)&&"alias"===t?r.push(e):O(e)&&-1!==t.indexOf("capture")&&M(n[t])?o.push(e):i.push(e))}));var s=function(e,t){ae(e,(function(e){if(O(e[0])){var n=t;ue(e,(function(e){n=n[e[0]].apply(n,e.slice(1))}))}else this[e[0]].apply(this,e.slice(1))}),t)};s(r,this),s(i,this),s(o,this)}},{key:"_hasBootstrappedFeatureFlags",value:function(){var e,t;return(null===(e=this.config.bootstrap)||void 0===e?void 0:e.featureFlags)&&Object.keys(null===(t=this.config.bootstrap)||void 0===t?void 0:t.featureFlags).length>0||!1}},{key:"push",value:function(e){this._execute_array([e])}},{key:"capture",value:function(e,t,n){var r;if(!(this.__loaded&&this.persistence&&this.sessionPersistence&&this._requestQueue))return ie.uninitializedWarning("posthog.capture");if(!this.consent.isOptedOut())if(!B(e)&&N(e)){if(!te||this.config.opt_out_useragent_filter||!Ii(te,this.config.custom_blocked_useragents)){var i=null!=n&&n.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(null==i||!i.isRateLimited){this.sessionPersistence.update_search_keyword(),this.config.store_google&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.store_google||this.config.save_referrer)&&this.persistence.set_initial_person_info();var o={uuid:at(),event:e,properties:this._calculate_event_properties(e,t||{},n)};i&&(o.properties.$lib_rate_limit_remaining_tokens=i.remainingTokens),(null==n?void 0:n.$set)&&(o.$set=null==n?void 0:n.$set);var s=this._calculate_set_once_properties(null==n?void 0:n.$set_once);s&&(o.$set_once=s),(o=function(e,t){return n=e,r=function(e){return N(e)&&!j(t)?e.slice(0,t):e},i=new Set,function e(t,n){return t!==Object(t)?r?r(t):t:i.has(t)?void 0:(i.add(t),O(t)?(o=[],ae(t,(function(t){o.push(e(t))}))):(o={},ue(t,(function(t,n){i.has(t)||(o[n]=e(t,n))}))),o);var o}(n);var n,r,i}(o,null!=n&&n._noTruncate?null:this.config.properties_string_max_length)).timestamp=(null==n?void 0:n.timestamp)||new Date,B(null==n?void 0:n.timestamp)||(o.properties.$event_time_override_provided=!0,o.properties.$event_time_override_system_time=new Date);var a=m(m({},o.properties.$set),o.$set);$(a)||this.setPersonPropertiesForFlags(a),this._debugEventEmitter.emit("eventCaptured",o);var u={method:"POST",url:null!==(r=null==n?void 0:n._url)&&void 0!==r?r:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:o,compression:"best-available",batchKey:null==n?void 0:n._batchKey};return!this.config.request_batching||n&&(null==n||!n._batchKey)||null!=n&&n.send_instantly?this._send_retriable_request(u):this._requestQueue.enqueue(u),o}ie.critical("This capture call is ignored due to client rate limiting.")}}else ie.error("No event name provided to posthog.capture")}},{key:"_addCaptureHook",value:function(e){this.on("eventCaptured",(function(t){return e(t.event)}))}},{key:"_calculate_event_properties",value:function(e,t,n){if(!this.persistence||!this.sessionPersistence)return t;var r=this.persistence.remove_event_timer(e),i=m({},t);if(i.token=this.config.token,"$snapshot"===e){var o=m(m({},this.persistence.properties()),this.sessionPersistence.properties());return i.distinct_id=o.distinct_id,i}var s=kn.properties();if(this.sessionManager){var a=this.sessionManager.checkAndGetSessionAndWindowId(),u=a.sessionId,l=a.windowId;i.$session_id=u,i.$window_id=l}if(this.requestRouter.region===ui.CUSTOM&&(i.$lib_custom_api_host=this.config.api_host),this.sessionPropsManager&&this.config.__preview_send_client_session_params&&("$pageview"===e||"$pageleave"===e||"$autocapture"===e)){var c=this.sessionPropsManager.getSessionProps();i=le(i,c)}if(!this.config.disable_scroll_properties){var d={};"$pageview"===e?d=this.pageViewManager.doPageView():"$pageleave"===e&&(d=this.pageViewManager.doPageLeave()),i=le(i,d)}if("$pageview"===e&&X&&(i.title=X.title),!B(r)){var f=(new Date).getTime()-r;i.$duration=parseFloat((f/1e3).toFixed(3))}if(te&&this.config.opt_out_useragent_filter&&(i.$browser_type=Ii(te,this.config.custom_blocked_useragents)?"bot":"browser"),(i=le({},s,this.persistence.properties(),this.sessionPersistence.properties(),i)).$is_identified=this._isIdentified(),null==n||!n._noHeatmaps){var h,p=null===(h=this.heatmaps)||void 0===h?void 0:h.getAndClearBuffer();p&&(i.$heatmap_data=p)}O(this.config.property_denylist)?ue(this.config.property_denylist,(function(e){delete i[e]})):ie.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var g=this.config.sanitize_properties;return g&&(i=g(i,e)),i.$process_person_profile=this._hasPersonProcessing(),i}},{key:"_calculate_set_once_properties",value:function(e){if(!this.persistence||!this._hasPersonProcessing())return e;var t=le({},this.persistence.get_initial_props(),e||{});return $(t)?void 0:t}},{key:"register",value:function(e,t){var n;null===(n=this.persistence)||void 0===n||n.register(e,t)}},{key:"register_once",value:function(e,t,n){var r;null===(r=this.persistence)||void 0===r||r.register_once(e,t,n)}},{key:"register_for_session",value:function(e){var t;null===(t=this.sessionPersistence)||void 0===t||t.register(e)}},{key:"unregister",value:function(e){var t;null===(t=this.persistence)||void 0===t||t.unregister(e)}},{key:"unregister_for_session",value:function(e){var t;null===(t=this.sessionPersistence)||void 0===t||t.unregister(e)}},{key:"_register_single",value:function(e,t){this.register(k({},e,t))}},{key:"getFeatureFlag",value:function(e,t){return this.featureFlags.getFeatureFlag(e,t)}},{key:"getFeatureFlagPayload",value:function(e){var t=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(t)}catch(e){return t}}},{key:"isFeatureEnabled",value:function(e,t){return this.featureFlags.isFeatureEnabled(e,t)}},{key:"reloadFeatureFlags",value:function(){this.featureFlags.reloadFeatureFlags()}},{key:"updateEarlyAccessFeatureEnrollment",value:function(e,t){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,t)}},{key:"getEarlyAccessFeatures",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(e,t)}},{key:"on",value:function(e,t){return this._debugEventEmitter.on(e,t)}},{key:"onFeatureFlags",value:function(e){return this.featureFlags.onFeatureFlags(e)}},{key:"onSessionId",value:function(e){var t,n;return null!==(t=null===(n=this.sessionManager)||void 0===n?void 0:n.onSessionId(e))&&void 0!==t?t:function(){}}},{key:"getSurveys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.surveys.getSurveys(e,t)}},{key:"getActiveMatchingSurveys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.surveys.getActiveMatchingSurveys(e,t)}},{key:"identify",value:function(e,t,n){if(!this.__loaded||!this.persistence)return ie.uninitializedWarning("posthog.identify");if(q(e)&&(e=e.toString(),ie.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),e){if(["distinct_id","distinctid"].includes(e.toLowerCase()))ie.critical('The string "'.concat(e,'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.'));else if(this._requirePersonProcessing("posthog.identify")){var r=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property("$device_id")){var i=r;this.register_once({$had_persisted_distinct_id:!0,$device_id:i},"")}e!==r&&e!==this.get_property(ke)&&(this.unregister(ke),this.register({distinct_id:e}));var o="anonymous"===(this.persistence.get_property(qe)||"anonymous");e!==r&&o?(this.persistence.set_property(qe,"identified"),this.setPersonPropertiesForFlags(t||{},!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:r},{$set:t||{},$set_once:n||{}}),this.featureFlags.setAnonymousDistinctId(r)):(t||n)&&this.setPersonProperties(t,n),e!==r&&(this.reloadFeatureFlags(),this.unregister(De))}}else ie.error("Unique user id has not been set in posthog.identify")}},{key:"setPersonProperties",value:function(e,t){(e||t)&&this._requirePersonProcessing("posthog.setPersonProperties")&&(this.setPersonPropertiesForFlags(e||{}),this.capture("$set",{$set:e||{},$set_once:t||{}}))}},{key:"group",value:function(e,t,n){if(e&&t){if(this._requirePersonProcessing("posthog.group")){var r=this.getGroups();r[e]!==t&&this.resetGroupPropertiesForFlags(e),this.register({$groups:m(m({},r),{},k({},e,t))}),n&&(this.capture("$groupidentify",{$group_type:e,$group_key:t,$group_set:n}),this.setGroupPropertiesForFlags(k({},e,n))),r[e]===t||n||this.reloadFeatureFlags()}}else ie.error("posthog.group requires a group type and group key")}},{key:"resetGroups",value:function(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}},{key:"setPersonPropertiesForFlags",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._requirePersonProcessing("posthog.setPersonPropertiesForFlags")&&this.featureFlags.setPersonPropertiesForFlags(e,t)}},{key:"resetPersonPropertiesForFlags",value:function(){this.featureFlags.resetPersonPropertiesForFlags()}},{key:"setGroupPropertiesForFlags",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._requirePersonProcessing("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(e,t)}},{key:"resetGroupPropertiesForFlags",value:function(e){this.featureFlags.resetGroupPropertiesForFlags(e)}},{key:"reset",value:function(e){var t,n,r,i;if(!this.__loaded)return ie.uninitializedWarning("posthog.reset");var o=this.get_property("$device_id");this.consent.reset(),null===(t=this.persistence)||void 0===t||t.clear(),null===(n=this.sessionPersistence)||void 0===n||n.clear(),null===(r=this.persistence)||void 0===r||r.set_property(qe,"anonymous"),null===(i=this.sessionManager)||void 0===i||i.resetSessionId();var s=this.config.get_device_id(at());this.register_once({distinct_id:s,$device_id:e?s:o},"")}},{key:"get_distinct_id",value:function(){return this.get_property("distinct_id")}},{key:"getGroups",value:function(){return this.get_property("$groups")||{}}},{key:"get_session_id",value:function(){var e,t;return null!==(e=null===(t=this.sessionManager)||void 0===t?void 0:t.checkAndGetSessionAndWindowId(!0).sessionId)&&void 0!==e?e:""}},{key:"get_session_replay_url",value:function(e){if(!this.sessionManager)return"";var t=this.sessionManager.checkAndGetSessionAndWindowId(!0),n=t.sessionId,r=t.sessionStartTimestamp,i=this.requestRouter.endpointFor("ui","/project/".concat(this.config.token,"/replay/").concat(n));if(null!=e&&e.withTimestamp&&r){var o,s=null!==(o=e.timestampLookBack)&&void 0!==o?o:10;if(!r)return i;var a=Math.max(Math.floor(((new Date).getTime()-r)/1e3)-s,0);i+="?t=".concat(a)}return i}},{key:"alias",value:function(e,t){return e===this.get_property(we)?(ie.critical("Attempting to create alias for existing People user - aborting."),-2):this._requirePersonProcessing("posthog.alias")?(B(t)&&(t=this.get_distinct_id()),e!==t?(this._register_single(ke,e),this.capture("$create_alias",{alias:e,distinct_id:t})):(ie.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1)):void 0}},{key:"set_config",value:function(e){var t,n,r,i,o=m({},this.config);L(e)&&(le(this.config,Gi(e)),null===(t=this.persistence)||void 0===t||t.update_config(this.config,o),this.sessionPersistence="sessionStorage"===this.config.persistence?this.persistence:new En(m(m({},this.config),{},{persistence:"sessionStorage"})),pt.is_supported()&&"true"===pt.get("ph_debug")&&(this.config.debug=!0),this.config.debug&&(F.DEBUG=!0),null===(n=this.sessionRecording)||void 0===n||n.startIfEnabledOrStop(),null===(r=this.autocapture)||void 0===r||r.startIfEnabled(),null===(i=this.heatmaps)||void 0===i||i.startIfEnabled(),this.surveys.loadIfEnabled(),this._sync_opt_out_with_persistence())}},{key:"startSessionRecording",value:function(e){if(null!=e&&e.sampling){var t,n,r=null===(t=this.sessionManager)||void 0===t?void 0:t.checkAndGetSessionAndWindowId();null===(n=this.persistence)||void 0===n||n.register(k({},Oe,!0)),ie.info("Session recording started with sampling override for session: ",null==r?void 0:r.sessionId)}this.set_config({disable_session_recording:!1})}},{key:"stopSessionRecording",value:function(){this.set_config({disable_session_recording:!0})}},{key:"sessionRecordingStarted",value:function(){var e;return!(null===(e=this.sessionRecording)||void 0===e||!e.started)}},{key:"loadToolbar",value:function(e){return this.toolbar.loadToolbar(e)}},{key:"get_property",value:function(e){var t;return null===(t=this.persistence)||void 0===t?void 0:t.props[e]}},{key:"getSessionProperty",value:function(e){var t;return null===(t=this.sessionPersistence)||void 0===t?void 0:t.props[e]}},{key:"toString",value:function(){var e,t=null!==(e=this.config.name)&&void 0!==e?e:Hi;return t!==Hi&&(t=Hi+"."+t),t}},{key:"_isIdentified",value:function(){var e,t;return"identified"===(null===(e=this.persistence)||void 0===e?void 0:e.get_property(qe))||"identified"===(null===(t=this.sessionPersistence)||void 0===t?void 0:t.get_property(qe))}},{key:"_hasPersonProcessing",value:function(){var e,t,n,r;return!("never"===this.config.person_profiles||"identified_only"===this.config.person_profiles&&!this._isIdentified()&&$(this.getGroups())&&(null===(e=this.persistence)||void 0===e||null===(t=e.props)||void 0===t||!t[ke])&&(null===(n=this.persistence)||void 0===n||null===(r=n.props)||void 0===r||!r[Ve]))}},{key:"_shouldCapturePageleave",value:function(){return!0===this.config.capture_pageleave||"if_capture_pageview"===this.config.capture_pageleave&&this.config.capture_pageview}},{key:"createPersonProfile",value:function(){this._hasPersonProcessing()||this._requirePersonProcessing("posthog.createPersonProfile")&&this.setPersonProperties({},{})}},{key:"_requirePersonProcessing",value:function(e){return"never"===this.config.person_profiles?(ie.error(e+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this._register_single(Ve,!0),!0)}},{key:"_sync_opt_out_with_persistence",value:function(){var e,t,n,r,i=this.consent.isOptedOut(),o=this.config.opt_out_persistence_by_default,s=this.config.disable_persistence||i&&!!o;(null===(e=this.persistence)||void 0===e?void 0:e.disabled)!==s&&(null===(n=this.persistence)||void 0===n||n.set_disabled(s)),(null===(t=this.sessionPersistence)||void 0===t?void 0:t.disabled)!==s&&(null===(r=this.sessionPersistence)||void 0===r||r.set_disabled(s))}},{key:"opt_in_capturing",value:function(e){var t;this.consent.optInOut(!0),this._sync_opt_out_with_persistence(),this.capture(null!==(t=null==e?void 0:e.captureEventName)&&void 0!==t?t:"$opt_in",null==e?void 0:e.captureProperties,{send_instantly:!0})}},{key:"opt_out_capturing",value:function(){this.consent.optInOut(!1),this._sync_opt_out_with_persistence()}},{key:"has_opted_in_capturing",value:function(){return this.consent.isOptedIn()}},{key:"has_opted_out_capturing",value:function(){return this.consent.isOptedOut()}},{key:"clear_opt_in_out_capturing",value:function(){this.consent.reset(),this._sync_opt_out_with_persistence()}},{key:"debug",value:function(e){!1===e?(null==z||z.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(null==z||z.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}}]),e}();!function(e,t){for(var n=0;n<t.length;n++)e.prototype[t[n]]=pe(e.prototype[t[n]])}(Yi,["identify"]),function(e){e.Popover="popover",e.API="api",e.Widget="widget"}(Ni||(Ni={})),function(e){e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link"}(ji||(ji={}));var Qi;Qi=qi[Hi]=new Yi,function(){function e(){e.done||(e.done=!0,zi=!1,ue(qi,(function(e){e._dom_loaded()})))}null!=X&&X.addEventListener&&("complete"===X.readyState?e():X.addEventListener("DOMContentLoaded",e,!1)),z&&_e(z,"load",e,!0)}();const Xi=[EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError,globalThis.DOMException,globalThis.AssertionError,globalThis.SystemError].filter(Boolean).map((e=>[e.name,e]));new Map(Xi);Error;new WeakSet;p.NODE_ENV;function Ki(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let Ji=class e{static test(t,n=""){if(!t)return!1;if(Array.isArray(t))return t.some((t=>e.test(t,n)));switch(arguments.length){case 1:if(t instanceof e)return!0;try{new e(t);return!0}catch(e){return!1}case 2:return t instanceof e||(t=new e(t)),t.test(n);default:throw new TypeError("URLMatchPattern.test requires 1 or 2 arguments")}}static toRegExp(t,n){return(t=new e(t)).toRegExp(n)}XtoRegExp(){let t="^";this.isAllUrls?t+="(file://|(<scheme>)://<host>)":"*"===this.scheme?t+="https?://<host>":t+=`${this.scheme}://<host>`,t+="<path>$",t=t.replace("<scheme>",e.resScheme);let n="";if(this.host){if("*"===this.host)n="(<label>\\.)*<label>";else{let e=this.host;this.host.startsWith("*.")&&(n="(<label>\\.)*",e=this.host.substr(2)),n+=e.replace(/[\.\-]/g,"\\$&")}n=n.replace(/<label>/g,e.resDomainLabel)}return t=t.replace("<host>",n),t=t.replace("<path>",this.path.replace(/[.+?^${}()|[\]\\\/]/g,"\\$&").replace(/\*/g,".*")),new RegExp(t)}valueOf(){return this.isAllUrls?"<all_urls>":this.host?{scheme:this.scheme,host:this.host,path:this.path}:{scheme:this.scheme,path:this.path}}toString(){return this.isAllUrls?"<all_urls>":`${this.scheme}://${this.host}${this.path}`}toRegExp(e=""){return new RegExp(this.regExp,e)}test(e){if(!(e instanceof URL))try{e=new URL(e)}catch(e){return!1}return e=`${e.protocol}//${e.hostname}${e.pathname}${e.search}${e.hash}`,this.regExp.test(e)}constructor(t){if(Ki(this,"isAllUrls",!1),Ki(this,"scheme",void 0),Ki(this,"host",void 0),Ki(this,"path",void 0),Ki(this,"regExp",void 0),1!==arguments.length)throw new TypeError("URLMatchPattern requires exact 1 argument");"<all_urls>"===t?(this.isAllUrls=!0,t="*://*/*"):"string"!=typeof t&&(t=t.toString());const n=e.reoMatchPattern.exec(t);if(!n)throw new SyntaxError(`Invalid URL match pattern: ${t}`);if(this.scheme=n[1]||"file",this.host=n[2]||"",this.path=n[3],"file"!==this.scheme&&!this.host)throw new SyntaxError(`Invalid URL match pattern: ${t}`);this.regExp=this.XtoRegExp()}};Ki(Ji,"resScheme","https?|wss?|ftp|file"),Ki(Ji,"resDomainLabel","[0-9A-Za-z]+(?:\\-+[0-9A-Za-z]+)*"),Ki(Ji,"resMatchPattern","^<all_urls>$|^(?:(?:file://|(?:(\\*|<scheme>)://(<host>)))(<path>))$".replace("<scheme>",Ji.resScheme).replace("<host>","\\*|(?:\\*\\.)?<label>(?:\\.<label>)*".replace(/<label>/g,Ji.resDomainLabel)).replace("<path>","/.*")),Ki(Ji,"reoMatchPattern",new RegExp(Ji.resMatchPattern));const Zi=(t={})=>{const{container:n,containerPath:r,containerIndex:i,filter:o=(()=>!0)}=t;if(n&&document.documentElement.contains(n)&&o(n)&&void 0!==r&&void 0!==i)return t;if(r){const t=e(r);for(let e=0;e<t.length;e+=1){const n=document.evaluate(t[e],document.documentElement,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);if(n.snapshotLength>0){if(void 0!==i){const r=n.snapshotItem(i),s=r instanceof HTMLElement?r:null==r?void 0:r.parentElement;if(s&&o(s))return{container:s,containerPath:t[e],containerIndex:i}}for(let r=0;r<n.snapshotLength;r+=1){const i=n.snapshotItem(r),s=i instanceof HTMLElement?i:null==i?void 0:i.parentElement;if(s&&o(s))return{container:s,containerPath:t[e],containerIndex:r}}}}}return{container:document.documentElement,containerPath:"//html",containerIndex:0}},eo=({foundContainer:t=Zi(),element:n,elementPath:r,elementIndex:i,filter:o=(()=>!0)})=>{t=Zi(t);const{container:s}=t;if(n&&(null==s?void 0:s.contains(n))&&o(n)&&void 0!==r&&void 0!==i)return{foundContainer:t,element:n,elementPath:r,elementIndex:i};if(s&&r){const n=e(r);for(let e=0;e<n.length;e+=1){const r=document.evaluate(n[e],s,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);if(r.snapshotLength>0){if(void 0!==i){const s=r.snapshotItem(i),a=s instanceof HTMLElement?s:null==s?void 0:s.parentElement;if(a&&o(a))return{foundContainer:t,element:a,elementPath:n[e],elementIndex:i}}for(let i=0;i<r.snapshotLength;i+=1){const s=r.snapshotItem(i),a=s instanceof HTMLElement?s:null==s?void 0:s.parentElement;if(a&&o(a))return{foundContainer:t,element:a,elementPath:n[e],elementIndex:i}}}}}return null},to=e=>{if(!e)return!1;const t=["checkbox","radio"];return!(!("type"in e)||!t.includes(e.type))||"role"in e&&t.includes(e.role||"")},no=(e,t,n)=>{const r=window.jQuery.Event(e);if(!n)return r;if(n&&"assign"in n&&n.assign&&"object"==typeof n.assign){const e=Object.keys(n.assign);for(let i=0;i<e.length;i+=1){const o=e[i],s=n.assign[o];r[o]="%VALUE%"===s?t:s}}return r},ro={dijit:async({foundInput:t,value:n})=>{if(!window.dijit)throw new Error("No dijit!");const r=eo(t.foundElement);if(!r)throw new Error("Element not found");const{element:i}=r;if(!i)throw new Error("Input not found");if(void 0===n)return{inputFillStatus:"skipped",inputFillMessage:"Value is undefined"};const o=e(n);for(let e=0;e<o.length;e+=1)if(window.dijit.getEnclosingWidget(i).set("value",o[e]),window.dijit.getEnclosingWidget(i).get("value")===o[e])return!0;return!1},jQuery:async({foundInput:e,foundValueElement:t,event:n,eventOptions:r,value:i})=>{var o;if(!window.jQuery)throw new Error("No jQuery");const s=eo(e.foundElement);if(!s)throw new Error("Element not found");const{element:a}=s;if(!a)throw new Error("Input not found");const u=t&&(null===(o=eo(t))||void 0===o?void 0:o.element);try{const e=to(u)&&u||to(a)&&a;if(n)window.jQuery(a).trigger(n,r);else if(a instanceof HTMLSelectElement){if(u instanceof HTMLOptionElement&&(i=u.value),void 0===i)return{inputFillStatus:"skipped",inputFillMessage:"Value is undefined"};window.jQuery(a).trigger(no("focus",i,r)).trigger(no("click",i,r)).val(i).trigger(no("input",i,r)).trigger(no("change",i,r))}else if(e)window.jQuery(e).trigger(no("focus",i,r)).trigger(no("click",i,r)).prop("checked",Boolean(i)).trigger(no("input",i,r)).trigger(no("change",i,r));else{if(void 0===i)return{inputFillStatus:"skipped",inputFillMessage:"Value is undefined"};window.jQuery(a).trigger(no("focus",i,r)).trigger(no("click",i,r)).trigger(no("keydown",i,r)).trigger(no("keypress",i,r)).val(i).trigger(no("input",i,r)).trigger(no("keyup",i,r)).trigger(no("change",i,r))}}catch(e){if(!n&&window.jQuery(a).val()!==i)return!1;throw e}return!0},react:async({foundInput:e,foundValueElement:t,eventOptions:n,value:r})=>{var i;const o=eo(e.foundElement);if(!o)throw new Error("Element not found");const{element:s}=o;if(!s)throw new Error("Input not found");const a=Object.keys(s).find((e=>/^__reactProps/.test(e)));if(!a)throw new Error("No React event handlers");const u=t&&(null===(i=eo(t))||void 0===i?void 0:i.element),l=(e,t,r)=>{try{var i;const o=new e(t,n);Object.defineProperty(o,"target",{writable:!1,value:s}),Object.defineProperty(o,"currentTarget",{writable:!1,value:s}),s.dispatchEvent(o),(null===(i=s[a])||void 0===i?void 0:i[r])&&(o.nativeEvent=o,s[a][r](o))}catch(e){}};if(s instanceof HTMLSelectElement)return u instanceof HTMLOptionElement&&(r=u.value),l(FocusEvent,"focus","onFocus"),l(MouseEvent,"click","onClick"),s.value=r,l(InputEvent,"input","onInput"),l(Event,"change","onChange"),l(FocusEvent,"blur","onBlur"),!0;if(s instanceof HTMLButtonElement||["button"].includes("role"in s&&s.role||""))return l(FocusEvent,"focus","onFocus"),l(MouseEvent,"mousedown","onMouseDown"),l(MouseEvent,"mouseup","onMouseUp"),l(MouseEvent,"click","onClick"),l(FocusEvent,"blur","onBlur"),!0;const c=to(u)&&u||to(s)&&s;if(c)return void 0===r&&(r=!0),c instanceof HTMLInputElement?(!r&&!c.checked||r&&c.checked||(l(FocusEvent,"focus","onFocus"),l(MouseEvent,"click","onClick"),c.checked=Boolean(r),l(InputEvent,"input","onInput"),l(Event,"change","onChange"),l(FocusEvent,"blur","onBlur")),!0):(r&&(l(FocusEvent,"focus","onFocus"),l(MouseEvent,"click","onClick"),l(Event,"change","onChange"),l(FocusEvent,"blur","onBlur")),!0);if(s instanceof HTMLInputElement||s instanceof HTMLTextAreaElement)return l(FocusEvent,"focus","onFocus"),l(MouseEvent,"click","onClick"),l(KeyboardEvent,"keydown","onKeyDown"),l(KeyboardEvent,"keypress","onKeyPress"),s.value=r,s.setAttribute("value",r),l(InputEvent,"input","onInput"),l(KeyboardEvent,"keyup","onKeyUp"),l(Event,"change","onChange"),l(FocusEvent,"blur","onBlur"),!0;throw new Error("Unknown input type")},reactClick:async({foundInput:e,eventOptions:t})=>{const n=eo(e.foundElement);if(!n)throw new Error("Element not found");const{element:r}=n;if(!r)throw new Error("Input not found");try{const e=Object.keys(r).find((e=>/^__reactProps/.test(e)));if(!e)throw new Error("React props key not found");if(!r[e].onClick)throw new Error("Click handler not found");const n=new MouseEvent("click",t);Object.defineProperty(n,"target",{writable:!1,value:r}),Object.defineProperty(n,"currentTarget",{writable:!1,value:r}),r[e].onClick(n)}catch(e){r.click()}return!0},tinyMCE:async({foundInput:t,value:n})=>{if(!window.tinyMCE)throw new Error("No tinyMCE");const r=eo(t.foundElement);if(!r)throw new Error("Element not found");const{element:i}=r;if(!i)throw new Error("Input not found");if(void 0===n)return{inputFillStatus:"skipped",inputFillMessage:"Value is undefined"};const o=e(n);for(let e=0;e<o.length;e+=1)if(window.tinyMCE.get(i.id).setContent(o[e]),window.tinyMCE.get(i.id).getContent()===o[e])return!0;return!1},tptEnableResume:async()=>{if(!window.tpt)throw new Error("No tpt");return window.tpt.uploadResume.updateAcceptedFieldMode("file"),window.tpt.uploadResume.uploadResumeInputShower("file"),window.tpt.uploadResume.showUploadFileError(!1),window.tpt.uploadResume.checkFilledResumeFile()?window.tpt.uploadResume.toggleUploadResumeNextButton(!0):window.tpt.uploadResume.toggleUploadResumeNextButton(!1),!0}},io={jQuery:async({foundTrackedInput:t,update:n})=>{if(!window.jQuery)throw new Error("No jQuery");const r=eo(t.foundFieldElement),i=null==r?void 0:r.element;if(!i)throw new Error("Field not found");const o=eo({foundContainer:{container:r.element,containerPath:r.elementPath,containerIndex:r.elementIndex},elementPath:t.foundInputElement.elementPath,elementIndex:t.foundInputElement.elementIndex}),s=null==o?void 0:o.element;if(!s)throw new Error("Input not found");const{inputValuePath:a}=t.trackedInputSelector;if(s instanceof HTMLSelectElement)window.jQuery(s).off("change.__simplify__trackInput"),window.jQuery(s).on("change.__simplify__trackInput",(()=>{null==n||n({inputValue:window.jQuery(s).find(e(a||"option:selected").join(", ")).text().trim()||window.jQuery(s).val()})}));else if(to(s)){const t=(({foundContainer:t=Zi(),elementsPath:n,filter:r=(()=>!0)})=>{t=Zi(t);const i=[],{container:o}=t;if(o&&n){const s=e(n);for(let e=0;e<s.length;e+=1){const n=s[e],a=document.evaluate(n,o,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);for(let n=0;n<a.snapshotLength;n+=1){const o=a.snapshotItem(n),u=o instanceof HTMLElement?o:null==o?void 0:o.parentElement;u&&r(u)&&i.push({foundContainer:t,element:u,elementPath:s[e],elementIndex:n})}}}return i})({foundContainer:o.foundContainer,elementsPath:o.elementPath});for(let r=0;r<t.length;r+=1){const{element:o}=t[r];o&&(window.jQuery(o).off("change.__simplify__trackInput"),window.jQuery(o).on("change.__simplify__trackInput",(()=>{null==n||n({inputValue:window.jQuery(i).find(e(a||":checked").join(", ")).map(((e,t)=>String(window.jQuery(t).val()||window.jQuery(t).text()))).toArray(),options:window.jQuery(i).find(e(a||[":checked",":not(:checked)"]).join(", ")).map(((e,t)=>String(window.jQuery(t).val()||window.jQuery(t).text()))).toArray()})})))}}else window.jQuery(s).off("change.__simplify__trackInput"),window.jQuery(s).on("change.__simplify__trackInput",(()=>{null==n||n({inputValue:a&&window.jQuery(i).find(e(a).join(", ")).text().trim()||window.jQuery(s).val()})}));return!0}},oo=e=>{var t,n;if(e)return"string"==typeof e?e:{ETIMEDOUT:"Timed out",ECONNABORTED:"Connection aborted"}[e.code||-1]||(null===(n=e.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.error)||e.message||void 0};function so(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ao=e=>{window.postMessage(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){so(e,t,n[t])}))}return e}({action:"__simplify__updateFilledInput"},e),"*")};function uo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}window.addEventListener("message",(async e=>{try{var t;if(e.source!==window||"__simplify__fillInput"!==(null===(t=e.data)||void 0===t?void 0:t.action))return;const n=g(e.data),{foundInput:r,method:i}=n,{keyPath:o}=r,s=i&&ro[i]||ro.default;if(s)try{const e=await s(n);if(!e)throw new Error("Fill could not be confirmed");ao("object"==typeof e?{keyPath:o,status:e.inputFillStatus,message:e.inputFillMessage}:{keyPath:o,status:"filled"})}catch(e){ao({keyPath:o,status:"error",message:oo(e)||"Unknown error"})}}catch(e){}}),!1);const lo=e=>{window.postMessage(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){uo(e,t,n[t])}))}return e}({action:"__simplify__updateTrackedInput"},e),"*")};function co(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){co(e,t,n[t])}))}return e}function ho(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}window.addEventListener("message",(async e=>{try{var t;if(e.source!==window||"__simplify__trackInput"!==(null===(t=e.data)||void 0===t?void 0:t.action))return;const n=g(e.data),{trackedInput:r,method:i}=n,{labelText:o}=r,s=i&&io[i]||io.default;if(s)try{if(!await s(ho(fo({},n),{update:e=>lo(ho(fo({},e),{labelText:o}))})))throw new Error("Tracking could not be confirmed");lo({labelText:o,status:"tracking"})}catch(e){lo({labelText:o,status:"error",message:oo(e)||"Unknown error"})}}catch(e){}}),!1)})()})();